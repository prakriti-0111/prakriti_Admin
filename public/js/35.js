"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[35],{36213:(e,t,a)=>{a.d(t,{A:()=>C});var s=a(49257),i=a(68102),r=a(63696),n=a(68017),l=a(81023),o=a(91785),d=a(28362),c=a(90013),h=a(2512),u=a(46733);function m(e){return(0,u.A)("MuiCircularProgress",e)}(0,a(29009).A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=a(62540);const x=["className","color","disableShrink","size","style","thickness","value","variant"];let g,A,v,y,j=e=>e;const _=(0,o.i7)(g||(g=j`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),f=(0,o.i7)(A||(A=j`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),b=(0,h.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`color${(0,d.A)(a.color)}`]]}})((({ownerState:e,theme:t})=>(0,i.A)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,o.AH)(v||(v=j`
      animation: ${0} 1.4s linear infinite;
    `),_))),w=(0,h.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),S=(0,h.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.circle,t[`circle${(0,d.A)(a.variant)}`],a.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,i.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,o.AH)(y||(y=j`
      animation: ${0} 1.4s ease-in-out infinite;
    `),f))),C=r.forwardRef((function(e,t){const a=(0,c.A)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:h=!1,size:u=40,style:g,thickness:A=3.6,value:v=0,variant:y="indeterminate"}=a,j=(0,s.A)(a,x),_=(0,i.A)({},a,{color:o,disableShrink:h,size:u,thickness:A,value:v,variant:y}),f=(e=>{const{classes:t,variant:a,color:s,disableShrink:i}=e,r={root:["root",a,`color${(0,d.A)(s)}`],svg:["svg"],circle:["circle",`circle${(0,d.A)(a)}`,i&&"circleDisableShrink"]};return(0,l.A)(r,m,t)})(_),C={},N={},k={};if("determinate"===y){const e=2*Math.PI*((44-A)/2);C.strokeDasharray=e.toFixed(3),k["aria-valuenow"]=Math.round(v),C.strokeDashoffset=`${((100-v)/100*e).toFixed(3)}px`,N.transform="rotate(-90deg)"}return(0,p.jsx)(b,(0,i.A)({className:(0,n.A)(f.root,r),style:(0,i.A)({width:u,height:u},N,g),ownerState:_,ref:t,role:"progressbar"},k,j,{children:(0,p.jsx)(w,{className:f.svg,ownerState:_,viewBox:"22 22 44 44",children:(0,p.jsx)(S,{className:f.circle,style:C,ownerState:_,cx:44,cy:44,r:(44-A)/2,fill:"none",strokeWidth:A})})}))}))},3799:(e,t,a)=>{a.d(t,{A:()=>v});var s=a(49257),i=a(68102),r=a(81023),n=a(68017),l=a(63696),o=(a(66542),a(99216)),d=a(2512),c=a(90013),h=a(1267),u=a(46733);function m(e){return(0,u.A)("MuiImageListItem",e)}const p=(0,a(29009).A)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]);var x=a(62540);const g=["children","className","cols","component","rows","style"],A=(0,d.Ay)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{[`& .${p.img}`]:t.img},t.root,t[a.variant]]}})((({ownerState:e})=>(0,i.A)({display:"block",position:"relative"},"standard"===e.variant&&{display:"flex",flexDirection:"column"},"woven"===e.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${p.img}`]:(0,i.A)({objectFit:"cover",width:"100%",height:"100%",display:"block"},"standard"===e.variant&&{height:"auto",flexGrow:1})}))),v=l.forwardRef((function(e,t){const a=(0,c.A)({props:e,name:"MuiImageListItem"}),{children:d,className:u,cols:p=1,component:v="li",rows:y=1,style:j}=a,_=(0,s.A)(a,g),{rowHeight:f="auto",gap:b,variant:w}=l.useContext(o.A);let S="auto";"woven"===w?S=void 0:"auto"!==f&&(S=f*y+b*(y-1));const C=(0,i.A)({},a,{cols:p,component:v,gap:b,rowHeight:f,rows:y,variant:w}),N=(e=>{const{classes:t,variant:a}=e,s={root:["root",a],img:["img"]};return(0,r.A)(s,m,t)})(C);return(0,x.jsx)(A,(0,i.A)({as:v,className:(0,n.A)(N.root,N[w],u),ref:t,style:(0,i.A)({height:S,gridColumnEnd:"masonry"!==w?`span ${p}`:void 0,gridRowEnd:"masonry"!==w?`span ${y}`:void 0,marginBottom:"masonry"===w?b:void 0},j),ownerState:C},_,{children:l.Children.map(d,(e=>l.isValidElement(e)?"img"===e.type||(0,h.A)(e,["Image"])?l.cloneElement(e,{className:(0,n.A)(N.img,e.props.className)}):e:null))}))}))},39487:(e,t,a)=>{a.d(t,{A:()=>g});var s=a(49257),i=a(68102),r=a(81023),n=a(68017),l=a(63696),o=a(2512),d=a(90013),c=a(46733);function h(e){return(0,c.A)("MuiImageList",e)}(0,a(29009).A)("MuiImageList",["root","masonry","quilted","standard","woven"]);var u=a(99216),m=a(62540);const p=["children","className","cols","component","rowHeight","gap","style","variant"],x=(0,o.Ay)("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant]]}})((({ownerState:e})=>(0,i.A)({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===e.variant&&{display:"block"}))),g=l.forwardRef((function(e,t){const a=(0,d.A)({props:e,name:"MuiImageList"}),{children:o,className:c,cols:g=2,component:A="ul",rowHeight:v="auto",gap:y=4,style:j,variant:_="standard"}=a,f=(0,s.A)(a,p),b=l.useMemo((()=>({rowHeight:v,gap:y,variant:_})),[v,y,_]);l.useEffect((()=>{}),[]);const w="masonry"===_?(0,i.A)({columnCount:g,columnGap:y},j):(0,i.A)({gridTemplateColumns:`repeat(${g}, 1fr)`,gap:y},j),S=(0,i.A)({},a,{component:A,gap:y,rowHeight:v,variant:_}),C=(e=>{const{classes:t,variant:a}=e,s={root:["root",a]};return(0,r.A)(s,h,t)})(S);return(0,m.jsx)(x,(0,i.A)({as:A,className:(0,n.A)(C.root,C[_],c),ref:t,style:w,ownerState:S},f,{children:(0,m.jsx)(u.A.Provider,{value:b,children:o})}))}))},99216:(e,t,a)=>{a.d(t,{A:()=>s});const s=a(63696).createContext({})},24024:(e,t,a)=>{a.d(t,{Ah:()=>l,rY:()=>n});var s=a(80325),i=a(11839),r=a(45892);const n=e=>(e=(0,r.x0)(e,!0),t=>{s.A.get("/sales-executive/orders".concat(e)).then((e=>{e.data.success&&t({type:i.Yi,payload:e.data.data})})).catch((e=>{}))}),l=e=>s.A.get("/sales-executive/orders/fetch/".concat(e))},90035:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var s=a(63696),i=a(52821),r=a(72839),n=a(49746),l=a(45271),o=a(36213),d=a(36122),c=a(39487),h=a(3799),u=a(41795),m=a(79765),p=a(58792),x=a(68215),g=a(61095),A=a(66107),v=a(26365),y=a(78976),j=a(65469),_=a(61176),f=a(66098),b=a(50977),w=a(51449),S=a(24024),C=a(71558),N=a(88441),k=a(45892),D=a(89429),P=a(52805),I=a(79859),M=a(43191),W=a(27874),O=a(29443),q=a(37001),R=a(62540);function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class L extends s.Component{constructor(e){super(e),$(this,"loadViewData",(()=>{(0,S.Ah)(this.props.params.id).then((e=>{e.data.data&&this.setState({order:e.data.data,notes:e.data.data.notes})}))})),$(this,"handleStatus",(()=>{this.setState({order_status:this.state.order.status,openDialog:!0})})),$(this,"handleDialogClose",((e,t)=>{t&&"backdropClick"==t||this.setState({openDialog:!1})})),$(this,"handleSubmit",(async()=>{this.setState({processing:!0});let e=await(0,C.KM)(this.state.order.id,{status:this.state.order_status,advance_amount:this.state.advance_amount,payment_mode:this.state.payment_mode,cheque_no:this.state.cheque_no,notes:this.state.notes}),t=!1;e.data.success?(this.props.enqueueSnackbar(e.data.message,{variant:"success"}),this.loadViewData(),this.setState({advance_amount:""})):(this.props.enqueueSnackbar(e.data.message,{variant:"error"}),t=!0),this.setState({processing:!1,openDialog:t})})),$(this,"handleSale",(()=>{this.setState({saleDialog:!0})})),$(this,"handleSaleDialogClose",((e,t)=>{t&&"backdropClick"==t||this.setState({saleDialog:!1})})),$(this,"handleSaleSubmit",(async()=>{this.setState({processing:!0});let e=await(0,C.ep)(this.state.order.id);e.data.success?this.props.navigate((0,k.zr)((0,k.mA)(this.state.auth))+"/sales/create?order_id="+this.state.order.id+"&from_order_price="+this.state.from_order_price+"&all_added="+e.data.data.all_added):(this.setState({processing:!1}),this.props.enqueueSnackbar(e.data.message,{variant:"error"}))})),$(this,"handleImageClick",(e=>{this.setState({imageDialogOpen:!0,imagePath:e})})),$(this,"handleImageDialogClose",(()=>{this.setState({imageDialogOpen:!1})})),this.state={order:null,auth:this.props.auth,openDialog:!1,order_status:"",advance_amount:"",processing:!1,saleDialog:!1,from_order_price:0,imagePath:"",imageDialogOpen:!1,payment_mode:"cash",cheque_no:"",notes:""},this.columns=[{name:"image",display_name:"Image",isImage:!0},{name:"product_name",display_name:"Product Name"},{name:"certificate_no",display_name:"Certificate No",width:"120px"},{name:"total_weight_display",display_name:"Total Wt.",width:"90px"},{name:"stock_material_display",display_name:"Materials Name",width:"165px"},{name:"weight_display",display_name:"Qty"},{name:"unit_display",display_name:"Unit"},{name:"product_code",display_name:"P Code"},{name:"size_name",display_name:"Size"},{name:"quantity",display_name:"Quantity"},{name:"rate",display_name:"Price"}]}componentDidMount(){this.loadViewData()}static getDerivedStateFromProps(e,t){let a={};return e.auth!==t.auth&&(a.auth=e.auth),a}componentDidUpdate(e){e.params.id!=this.props.params.id&&this.loadViewData()}render(){const{order:e}=this.state;return(0,R.jsxs)(f.A,{title:"Order Details",secondary:(0,R.jsxs)(r.A,{spacing:1,direction:"row",justifyContent:"flex-end",children:[e&&"delivered"!=e.status&&"cancelled"!=e.status&&"declined"!=e.status?(0,R.jsx)(n.A,{variant:"contained",onClick:this.handleSale,children:"Sale"}):null,(0,R.jsx)(n.A,{variant:"contained",onClick:()=>this.props.navigate((0,k.zr)((0,k.mA)(this.state.auth))+"/orders"),children:"Back"})]}),children:[e?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.Ay,{container:!0,spacing:2,className:"loans_view p_view",children:[(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Order #",variant:"outlined",fullWidth:!0,value:e.order_no,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Order Date",variant:"outlined",fullWidth:!0,value:e.order_date,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Order From",variant:"outlined",fullWidth:!0,value:e.order_from,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Mobile",variant:"outlined",fullWidth:!0,value:e.mobile,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Total Amount",variant:"outlined",fullWidth:!0,value:e.total_amount,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Paid Amount",variant:"outlined",fullWidth:!0,value:e.paid_amount_display,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,R.jsx)(d.A,{label:"Status",variant:"outlined",fullWidth:!0,value:e.status_display,readOnly:!0,InputProps:{className:"non_disable_text cursor-pointer"},inputProps:{className:"cursor-pointer"},role:"button",onClick:this.handleStatus})}),(0,R.jsx)(l.Ay,{item:!0,xs:12,md:4,className:"create-input",children:(0,R.jsx)(d.A,{label:"Address",variant:"outlined",fullWidth:!0,value:e.formated_address,disabled:!0,InputProps:{className:"non_disable_text"}})}),"cancelled"==e.status&&e.cancel_reason?(0,R.jsx)(l.Ay,{item:!0,xs:12,md:4,className:"create-input",children:(0,R.jsx)(d.A,{label:"Cancel Reason",variant:"outlined",fullWidth:!0,value:e.cancel_reason,disabled:!0,InputProps:{className:"non_disable_text"}})}):null,(0,k.Im)(e.notes)?null:(0,R.jsx)(l.Ay,{item:!0,xs:12,md:4,className:"create-input",children:(0,R.jsx)(d.A,{label:"Notes",variant:"outlined",fullWidth:!0,value:e.notes,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,k.Im)(e.image)?null:(0,R.jsx)(l.Ay,{item:!0,xs:6,md:1,className:"create-input",children:(0,R.jsx)(c.A,{children:(0,R.jsx)(h.A,{onClick:()=>this.handleImageClick(e.image),className:"cursor-pointer",children:(0,R.jsx)("img",{src:e.image,srcSet:e.image,loading:"lazy"})})})})]}),(0,R.jsx)(l.Ay,{container:!0,spacing:_.iL,className:"details-header ratn-pur-wrapper loans_view",children:(0,R.jsxs)(l.Ay,{item:!0,xs:12,className:"p-add-product create-input",children:[(0,R.jsx)("h3",{className:"p_heading_list",children:"Product List"}),(0,R.jsx)(W.A,{columns:this.columns,rows:e.products,page:1,limit:e.products.length,total:e.products.length,havePagination:!1})]})}),(0,R.jsxs)(D.A,{className:"ratn-dialog-wrapper",open:this.state.saleDialog,onClose:this.handleSaleDialogClose,fullWidth:!0,maxWidth:"xs",children:[(0,R.jsx)(M.A,{children:"Sale Order"}),(0,R.jsxs)(P.A,{children:["Are you sure want to sale this order?",e.is_customer&&e.paid_amount>0?(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(u.A,{children:(0,R.jsxs)(m.A,{row:!0,name:"row-radio-buttons-group",value:this.state.from_order_price,onChange:e=>this.setState({from_order_price:e.target.value}),children:[(0,R.jsx)(p.A,{value:1,control:(0,R.jsx)(x.A,{}),label:"Price will be same as order price."}),(0,R.jsx)(p.A,{value:0,control:(0,R.jsx)(x.A,{}),label:"Price will be same as current price."})]})})}):(0,R.jsx)(u.A,{children:(0,R.jsx)(m.A,{row:!0,name:"row-radio-buttons-group",value:this.state.from_order_price,children:(0,R.jsx)(p.A,{value:0,control:(0,R.jsx)(x.A,{}),label:"Price will be same as current price."})})})]}),(0,R.jsx)(O.A,{children:(0,R.jsxs)(r.A,{spacing:2,direction:"row",justifyContent:"flex-end",children:[(0,R.jsx)(n.A,{variant:"outlined",onClick:this.handleSaleDialogClose,children:"Cancel"}),(0,R.jsx)(n.A,{variant:"contained",type:"button",onClick:this.handleSaleSubmit,children:"Yes, Confirm"})]})})]})]}):(0,R.jsx)(l.Ay,{container:!0,justifyContent:"center",children:(0,R.jsx)(o.A,{})}),(0,R.jsxs)(D.A,{className:"ratn-dialog-wrapper",open:this.state.openDialog,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"xs",children:[(0,R.jsx)(M.A,{children:"Order Status"}),(0,R.jsxs)(P.A,{children:[(0,R.jsx)(I.A,{}),(0,R.jsx)(g.A,{sx:{flexGrow:1,m:.5},children:(0,R.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,R.jsx)(l.Ay,{item:!0,xs:12,className:"create-input",children:(0,R.jsxs)(u.A,{fullWidth:!0,children:[(0,R.jsx)(A.A,{children:"Order Status"}),(0,R.jsxs)(v.A,{className:"input-inner",value:this.state.order_status,fullWidth:!0,label:"Order Status",onChange:e=>this.setState({order_status:e.target.value}),children:[(0,R.jsx)(y.A,{value:"pending",children:"Pending"}),(0,R.jsx)(y.A,{value:"accepted",children:"Accepted"}),(0,R.jsx)(y.A,{value:"delivered",children:"Delivered"}),(0,R.jsx)(y.A,{value:"cancelled",children:"Cancelled"}),(0,R.jsx)(y.A,{value:"declined",children:"Declined"})]})]})}),"accepted"==this.state.order_status?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.Ay,{item:!0,xs:12,md:12,className:"create-input",children:(0,R.jsx)(d.A,{label:"Advance Amount",variant:"outlined",fullWidth:!0,value:this.state.advance_amount,onChange:e=>this.setState({advance_amount:e.target.value})})}),(0,R.jsx)(l.Ay,{item:!0,md:12,xs:12,className:"create-input",children:(0,R.jsxs)(u.A,{fullWidth:!0,children:[(0,R.jsx)(A.A,{children:"Payment Mode"}),(0,R.jsxs)(v.A,{className:"input-inner",value:this.state.payment_mode,fullWidth:!0,label:"Payment Mode",onChange:e=>this.setState({payment_mode:e.target.value}),children:[(0,R.jsx)(y.A,{value:"cash",children:"Cash"}),(0,R.jsx)(y.A,{value:"cheque",children:"Cheque"}),(0,R.jsx)(y.A,{value:"imps_neft",children:"NEFT/IMPS/UPI"}),(0,R.jsx)(y.A,{value:"online",children:"Online"})]})]})}),"cheque"==this.state.payment_mode?(0,R.jsx)(l.Ay,{item:!0,md:12,xs:12,className:"create-input",children:(0,R.jsx)(d.A,{label:"Cheque No",variant:"outlined",fullWidth:!0,value:this.state.cheque_no,onChange:e=>this.setState({cheque_no:e.target.value})})}):null,(0,R.jsx)(l.Ay,{item:!0,xs:12,md:12,className:"create-input",children:(0,R.jsx)(j.A,{className:"description",minRows:3,placeholder:"Notes",style:{width:"100%"},value:this.state.notes,onChange:e=>this.setState({notes:e.target.value})})})]}):null,(0,R.jsx)(l.Ay,{item:!0,xs:12,children:(0,R.jsxs)(r.A,{spacing:1,direction:"row",justifyContent:"flex-end",children:[(0,R.jsx)(n.A,{variant:"contained",type:"button",disabled:this.state.processing||this.state.order&&this.state.order.status==this.state.order_status,onClick:this.handleSubmit,children:this.state.processing?"Processing":"Submit"}),(0,R.jsx)(n.A,{variant:"outlined",onClick:this.handleDialogClose,children:"Cancel"})]})})]})})]})]}),(0,R.jsxs)(D.A,{onClose:this.handleImageDialogClose,open:this.state.imageDialogOpen,children:[(0,R.jsx)(M.A,{children:(0,R.jsx)(q.A,{sx:{cursor:"pointer",float:"right",marginTop:"5px",width:"30px"},onClick:this.handleImageDialogClose})}),(0,R.jsx)(P.A,{children:(0,R.jsx)("img",{src:this.state.imagePath,width:500,height:350})})]})]})}}const F=(0,w.Gh)((0,b.A)((0,i.connect)((e=>({auth:e.auth})),(e=>({dispatch:e,actions:(0,N.bindActionCreators)({},e)})))(L)))}}]);
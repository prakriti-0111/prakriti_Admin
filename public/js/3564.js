"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3564],{52359:function(e,t,a){a.d(t,{Z:function(){return S}});var s=a(30808),r=a(25773),i=a(27378),o=a(38944),n=a(82267),c=a(7818),l=a(67018),u=a(76112),p=a(3870),d=a(89090),h=a(6749);function m(e){return(0,h.Z)("MuiIconButton",e)}var f=(0,a(44124).Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),g=a(24246);const y=["edge","children","className","color","disabled","disableFocusRipple","size"],b=(0,l.ZP)(p.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"default"!==a.color&&t[`color${(0,d.Z)(a.color)}`],a.edge&&t[`edge${(0,d.Z)(a.edge)}`],t[`size${(0,d.Z)(a.size)}`]]}})((({theme:e,ownerState:t})=>(0,r.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,c.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})),(({theme:e,ownerState:t})=>(0,r.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,r.Z)({color:(e.vars||e).palette[t.color].main},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,c.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${f.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})));var S=i.forwardRef((function(e,t){const a=(0,u.Z)({props:e,name:"MuiIconButton"}),{edge:i=!1,children:c,className:l,color:p="default",disabled:h=!1,disableFocusRipple:f=!1,size:S="medium"}=a,v=(0,s.Z)(a,y),C=(0,r.Z)({},a,{edge:i,color:p,disabled:h,disableFocusRipple:f,size:S}),w=(e=>{const{classes:t,disabled:a,color:s,edge:r,size:i}=e,o={root:["root",a&&"disabled","default"!==s&&`color${(0,d.Z)(s)}`,r&&`edge${(0,d.Z)(r)}`,`size${(0,d.Z)(i)}`]};return(0,n.Z)(o,m,t)})(C);return(0,g.jsx)(b,(0,r.Z)({className:(0,o.Z)(w.root,l),centerRipple:!0,focusRipple:!f,disabled:h,ref:t,ownerState:C},v,{children:c}))}))},57699:function(e,t,a){a(27378);var s=a(17849),r=a(24246);t.Z=(0,s.Z)((0,r.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},16345:function(e,t,a){a.r(t);var s=a(27378),r=a(23884),i=a(23434),o=a(10755),n=a(74154),c=a(8971),l=a(13040),u=a(59146),p=a(46265),d=a(74570),h=a(26803),m=a(69162),f=a(93033),g=a(77234),y=a(40372),b=a(83079),S=a(64125),v=a(72897),C=a(72359),w=a(24246);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function R(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(u,e);var t,a,s,r,o,l=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var a=k(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return R(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),x(D(t=l.call(this,e)),"handlePagination",(function(e){t.setState({queryParams:j(j({},t.state.queryParams),{},{page:e})},(function(){t.loadListData()}))})),x(D(t),"loadListData",(function(){t.props.actions.materialList(t.state.queryParams)})),x(D(t),"handleEdit",(function(e){t.setState({editRow:e})})),x(D(t),"handleDelete",(function(e){t.props.actions.materialDelete(e.id)})),x(D(t),"handleCreate",(function(){t.setState({openDialog:!0,dialogTitle:"Create Material",editRow:null})})),x(D(t),"handleDialogClose",(function(e,a){a&&"backdropClick"==a||t.setState({openDialog:!1,editRow:null})})),x(D(t),"submit",(function(e){t.state.editRow?t.props.actions.materialUpdate(t.state.editRow.id,e):t.props.actions.materialCreate(e)})),x(D(t),"handleCancel",(function(){t.handleDialogClose()})),x(D(t),"categoryChange",(function(e){t.setState({queryParams:j(j({},t.state.queryParams),{},{page:1,category_id:e})},(function(){t.loadListData()}))})),x(D(t),"handleMaterialChange",(function(e){t.setState({queryParams:j(j({},t.state.queryParams),{},{page:1,search:e})},(function(){t.loadListData()}))})),t.state=j(j({},t.props),{},{queryParams:{page:1,limit:50,category_id:"",search:""},openDialog:!1,isCreate:!0,editRow:null,categories:t.props.categories,units:t.props.units,purities:t.props.purities,createSuccess:!1,editSuccess:!1,deleteSuccess:!1,actionCalled:t.props.actionCalled,successMessage:t.props.successMessage,errorMessage:t.props.errorMessage,submitSuccess:!1}),t.columns=[{name:"name",display_name:"Material"},{name:"category",display_name:"Category"},{name:"unit",display_name:"Unit"},{name:"purities",display_name:"Purities",array_key:"name",raw:!0},{name:"status_display",display_name:"Status"}],t.tableActions=[{label:"Edit",onClick:t.handleEdit,color:"primary"},{label:"Delete",onClick:t.handleDelete,isDelete:!0,color:"error"}],t}return t=u,s=[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.items!==t.items&&(a.items=e.items),e.total!==t.total&&(a.total=e.total),e.actionCalled!==t.actionCalled&&(a.actionCalled=e.actionCalled),e.successMessage!==t.successMessage&&(a.successMessage=e.successMessage),e.errorMessage!==t.errorMessage&&(a.errorMessage=e.errorMessage),e.categories!==t.categories&&(a.categories=e.categories),e.units!==t.units&&(a.units=e.units),e.purities!==t.purities&&(a.purities=e.purities),"createSuccess"in e&&e.createSuccess!==t.createSuccess&&(a.createSuccess=e.createSuccess),"editSuccess"in e&&e.editSuccess!==t.editSuccess&&(a.editSuccess=e.editSuccess),"deleteSuccess"in e&&e.deleteSuccess!==t.deleteSuccess&&(a.deleteSuccess=e.deleteSuccess),a}}],(a=[{key:"componentDidMount",value:function(){this.loadListData(),this.props.actions.categoryList({all:1}),this.props.actions.unitList({all:1}),this.props.actions.purityList({all:1})}},{key:"componentDidUpdate",value:function(){var e=this;this.state.actionCalled&&(this.state.createSuccess||this.state.editSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:C.Y1}),this.setState({queryParams:j(j({},this.state.queryParams),{},{page:1}),openDialog:!1,editRow:null,submitSuccess:!0},(function(){e.loadListData(),e.setState({submitSuccess:!1})}))):this.state.deleteSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:C.Y1}),this.handlePagination(1)):null!=this.state.errorMessage&&(this.props.enqueueSnackbar(this.state.errorMessage,{variant:"error"}),this.props.dispatch({type:C.Y1})))}},{key:"render",value:function(){return(0,w.jsxs)(c.Z,{title:"Material",children:[(0,w.jsx)("div",{className:"tax-input p_view loans_view",children:(0,w.jsx)(g.Z,{onSubmit:this.submit,formData:this.state.editRow,categories:this.state.categories,units:this.state.units,purities:this.state.purities,handleCancel:this.handleCancel,categoryChange:this.categoryChange,submitSuccess:this.state.submitSuccess,handleMaterialChange:this.handleMaterialChange})}),(0,w.jsx)(i.ZP,{container:!0,spacing:n.dv,children:(0,w.jsx)(p.Z,{columns:this.columns,rows:this.state.items,page:this.state.queryParams.page,limit:this.state.queryParams.limit,total:this.state.total,handlePagination:this.handlePagination,actions:this.tableActions})}),(0,w.jsxs)(d.Z,{className:"ratn-dialog-wrapper",open:this.state.openDialog,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"md",children:[(0,w.jsx)(f.Z,{children:this.state.dialogTitle}),(0,w.jsxs)(h.Z,{children:[(0,w.jsx)(m.Z,{}),(0,w.jsx)(g.Z,{onSubmit:this.submit,formData:this.state.editRow,categories:this.state.categories,units:this.state.units,purities:this.state.purities,handleCancel:this.handleCancel})]})]})]})}}])&&M(t.prototype,a),s&&M(t,s),Object.defineProperty(t,"prototype",{writable:!1}),u}(s.Component);t.default=(0,v.RM)((0,l.Z)((0,r.connect)((function(e){return{items:e.superadmin.material.items,total:e.superadmin.material.total,categories:e.superadmin.category.items||[],units:e.superadmin.unit.items||[],purities:e.superadmin.purity.items||[],actionCalled:e.superadmin.material.actionCalled,createSuccess:e.superadmin.material.createSuccess,editSuccess:e.superadmin.material.editSuccess,deleteSuccess:e.superadmin.material.deleteSuccess,successMessage:e.superadmin.material.successMessage,errorMessage:e.superadmin.material.errorMessage}}),(function(e){return{dispatch:e,actions:(0,o.bindActionCreators)({materialList:u._1,materialCreate:u.K5,materialUpdate:u.LX,materialDelete:u.Qh,categoryList:y.wA,unitList:b.d9,purityList:S.uH},e)}}))(_)))}}]);
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6190],{36213:(e,t,s)=>{s.d(t,{A:()=>w});var a=s(49257),i=s(68102),r=s(63696),n=s(68017),l=s(81023),o=s(91785),d=s(28362),c=s(90013),u=s(2512),h=s(46733);function m(e){return(0,h.A)("MuiCircularProgress",e)}(0,s(29009).A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=s(62540);const x=["className","color","disableShrink","size","style","thickness","value","variant"];let A,v,g,b,_=e=>e;const j=(0,o.i7)(A||(A=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),f=(0,o.i7)(v||(v=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),y=(0,u.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],t[`color${(0,d.A)(s.color)}`]]}})((({ownerState:e,theme:t})=>(0,i.A)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,o.AH)(g||(g=_`
      animation: ${0} 1.4s linear infinite;
    `),j))),S=(0,u.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),k=(0,u.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.circle,t[`circle${(0,d.A)(s.variant)}`],s.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,i.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,o.AH)(b||(b=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),f))),w=r.forwardRef((function(e,t){const s=(0,c.A)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:u=!1,size:h=40,style:A,thickness:v=3.6,value:g=0,variant:b="indeterminate"}=s,_=(0,a.A)(s,x),j=(0,i.A)({},s,{color:o,disableShrink:u,size:h,thickness:v,value:g,variant:b}),f=(e=>{const{classes:t,variant:s,color:a,disableShrink:i}=e,r={root:["root",s,`color${(0,d.A)(a)}`],svg:["svg"],circle:["circle",`circle${(0,d.A)(s)}`,i&&"circleDisableShrink"]};return(0,l.A)(r,m,t)})(j),w={},N={},C={};if("determinate"===b){const e=2*Math.PI*((44-v)/2);w.strokeDasharray=e.toFixed(3),C["aria-valuenow"]=Math.round(g),w.strokeDashoffset=`${((100-g)/100*e).toFixed(3)}px`,N.transform="rotate(-90deg)"}return(0,p.jsx)(y,(0,i.A)({className:(0,n.A)(f.root,r),style:(0,i.A)({width:h,height:h},N,A),ownerState:j,ref:t,role:"progressbar"},C,_,{children:(0,p.jsx)(S,{className:f.svg,ownerState:j,viewBox:"22 22 44 44",children:(0,p.jsx)(k,{className:f.circle,style:w,ownerState:j,cx:44,cy:44,r:(44-v)/2,fill:"none",strokeWidth:v})})}))}))},86190:(e,t,s)=>{s.r(t),s.d(t,{default:()=>W});var a=s(63696),i=s(52821),r=s(49746),n=s(45271),l=s(36213),o=s(36122),d=s(65469),c=s(61095),u=s(41795),h=s(66107),m=s(26365),p=s(78976),x=s(72839),A=s(61176),v=s(66098),g=s(50977),b=s(51449),_=s(23380),j=s(88441),f=s(45892),y=s(55028),S=s(89429),k=s(52805),w=s(79859),N=s(43191),C=s(27874),D=s(62540);function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class O extends a.Component{constructor(e){super(e),P(this,"loadViewData",(()=>{this.props.actions.returnOrderView(this.props.params.id)})),P(this,"handleAssign",(()=>{this.setState({openDialog:!0})})),P(this,"handleDialogClose",((e,t)=>{t&&"backdropClick"==t||this.setState({openDialog:!1})})),P(this,"handleFormChange",((e,t)=>{this.setState({formValues:{...this.state.formValues,[t]:e.target.value}})})),P(this,"handleSubmit",(async()=>{if(!this.formValidate()){this.setState({processing:!0});let e=await(0,_.W0)(this.state.returnOrder.id,this.state.formValues),t=!1;e.data.success?(this.props.enqueueSnackbar(e.data.message,{variant:"success"}),this.loadViewData()):(this.props.enqueueSnackbar(e.data.message,{variant:"error"}),t=!0),this.setState({processing:!1,openDialog:t})}})),P(this,"formValidate",(()=>{let e=this.state.formValues,t=this.state.formErros,s=!1;return e.user_id?t.user_id=!1:(t.user_id=!0,s=!0),this.setState({formErros:t}),s})),P(this,"handleStatus",(()=>{this.setState({order_status:this.state.returnOrder.status,openStatusDialog:!0})})),P(this,"handleStatusDialogClose",((e,t)=>{t&&"backdropClick"==t||this.setState({openStatusDialog:!1})})),P(this,"handleStatusSubmit",(async()=>{this.setState({processing:!0});let e=await(0,_.wi)(this.state.returnOrder.id,{status:this.state.order_status}),t=!1;e.data.success?(this.props.enqueueSnackbar(e.data.message,{variant:"success"}),this.loadViewData()):(this.props.enqueueSnackbar(e.data.message,{variant:"error"}),t=!0),this.setState({processing:!1,openStatusDialog:t})})),this.state={returnOrder:this.props.returnOrder,auth:this.props.auth,saleExecutiveList:this.props.saleExecutiveList,formValues:{user_id:""},formErros:{user_id:!1},openDialog:!1,processing:!1,order_status:"",openStatusDialog:!1},this.columns=[{name:"image",display_name:"Image",isImage:!0},{name:"product_name",display_name:"Product Name"},{name:"certificate_no",display_name:"Certificate No",width:"120px"},{name:"total_weight_display",display_name:"Total Wt.",width:"90px"},{name:"stock_material_display",display_name:"Materials Name",width:"165px"},{name:"weight_display",display_name:"Qty"},{name:"unit_display",display_name:"Unit"},{name:"product_code",display_name:"P Code"},{name:"size_name",display_name:"Size"},{name:"quantity",display_name:"Quantity"},{name:"rate",display_name:"Price"}],this.isDistributor=(0,f.mb)()}componentDidMount(){this.loadViewData(),this.props.actions.salesExecutiveList({all:1,role_id:4})}static getDerivedStateFromProps(e,t){let s={};return e.returnOrder!==t.returnOrder&&(s.returnOrder=e.returnOrder),e.auth!==t.auth&&(s.auth=e.auth),e.saleExecutiveList!==t.saleExecutiveList&&(s.saleExecutiveList=e.saleExecutiveList),s}componentDidUpdate(e){e.params.id!=this.props.params.id&&this.loadViewData()}render(){const{returnOrder:e}=this.state;return(0,D.jsxs)(v.A,{title:"Return Order Details",secondary:(0,D.jsx)(r.A,{variant:"contained",onClick:()=>this.props.navigate(-1),children:"Back"}),children:[e?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(n.Ay,{container:!0,spacing:2,className:"loans_view p_view",children:[(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Order #",variant:"outlined",fullWidth:!0,value:e.order_no,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Order Date",variant:"outlined",fullWidth:!0,value:e.order_date,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Return Date",variant:"outlined",fullWidth:!0,value:e.return_date,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Order From",variant:"outlined",fullWidth:!0,value:e.order_from,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Mobile",variant:"outlined",fullWidth:!0,value:e.mobile,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Total Amount",variant:"outlined",fullWidth:!0,value:e.total_amount,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(o.A,{label:"Status",variant:"outlined",fullWidth:!0,value:e.status_display,disabled:!0,InputProps:{className:"non_disable_text"},inputProps:{className:"cursor-pointer"},role:"button",onClick:this.handleStatus})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:5,className:"create-input",children:(0,D.jsx)(o.A,{label:"Address",variant:"outlined",fullWidth:!0,value:e.formated_address,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,md:3,className:"create-input",children:(0,D.jsx)(o.A,{label:"Assign To",variant:"outlined",fullWidth:!0,value:e.sale_executive_name,disabled:!0,InputProps:{className:"non_disable_text"}})}),this.isDistributor&&"cancelled"!=e.status&&"picked_up"!=e.status?(0,D.jsx)(n.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,D.jsx)(r.A,{variant:"contained",onClick:this.handleAssign,children:"Assign"})}):null,(0,D.jsx)(n.Ay,{item:!0,xs:12,md:12,className:"create-input",children:(0,D.jsx)(d.A,{className:"description",minRows:2,placeholder:"Notes",style:{width:"100%"},value:e.notes,disabled:!0,InputProps:{className:"non_disable_text"}})})]}),(0,D.jsx)(n.Ay,{container:!0,spacing:A.iL,className:"details-header ratn-pur-wrapper loans_view",children:(0,D.jsxs)(n.Ay,{item:!0,xs:12,className:"p-add-product create-input",children:[(0,D.jsx)("h3",{className:"p_heading_list",children:"Product List"}),(0,D.jsx)(C.A,{columns:this.columns,rows:e.products,page:1,limit:e.products.length,total:e.products.length,havePagination:!1})]})})]}):(0,D.jsx)(n.Ay,{container:!0,justifyContent:"center",children:(0,D.jsx)(l.A,{})}),(0,D.jsxs)(S.A,{className:"ratn-dialog-wrapper",open:this.state.openDialog,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"xs",children:[(0,D.jsx)(N.A,{children:"Return Order Assign"}),(0,D.jsxs)(k.A,{children:[(0,D.jsx)(w.A,{}),(0,D.jsx)(c.A,{sx:{flexGrow:1,m:.5},children:(0,D.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,D.jsx)(n.Ay,{item:!0,xs:12,className:"create-input",children:(0,D.jsxs)(u.A,{fullWidth:!0,error:this.state.formErros.user_id,children:[(0,D.jsx)(h.A,{children:"Sale Executive"}),(0,D.jsxs)(m.A,{className:"input-inner",value:this.state.formValues.user_id,fullWidth:!0,label:"Sale Executive",onChange:e=>this.handleFormChange(e,"user_id"),children:[(0,D.jsx)(p.A,{value:""}),this.state.saleExecutiveList.map(((e,t)=>(0,D.jsxs)(p.A,{value:e.id,children:[e.name," | ",e.mobile]},t)))]})]})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,children:(0,D.jsxs)(x.A,{spacing:1,direction:"row",justifyContent:"flex-end",children:[(0,D.jsx)(r.A,{variant:"contained",type:"button",disabled:this.state.processing,onClick:this.handleSubmit,children:this.state.processing?"Processing":"Submit"}),(0,D.jsx)(r.A,{variant:"outlined",onClick:this.handleDialogClose,children:"Cancel"})]})})]})})]})]}),(0,D.jsxs)(S.A,{className:"ratn-dialog-wrapper",open:this.state.openStatusDialog,onClose:this.handleStatusDialogClose,fullWidth:!0,maxWidth:"xs",children:[(0,D.jsx)(N.A,{children:"Return Order Status"}),(0,D.jsxs)(k.A,{children:[(0,D.jsx)(w.A,{}),(0,D.jsx)(c.A,{sx:{flexGrow:1,m:.5},children:(0,D.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,D.jsx)(n.Ay,{item:!0,xs:12,className:"create-input",children:(0,D.jsxs)(u.A,{fullWidth:!0,children:[(0,D.jsx)(h.A,{children:"Status"}),(0,D.jsxs)(m.A,{className:"input-inner",value:this.state.order_status,fullWidth:!0,label:"Status",onChange:e=>this.setState({order_status:e.target.value}),children:[(0,D.jsx)(p.A,{value:"picked_up",children:"Picked Up"}),(0,D.jsx)(p.A,{value:"cancelled",children:"Cancelled"})]})]})}),(0,D.jsx)(n.Ay,{item:!0,xs:12,children:(0,D.jsxs)(x.A,{spacing:1,direction:"row",justifyContent:"flex-end",children:[(0,D.jsx)(r.A,{variant:"contained",type:"button",disabled:this.state.processing||this.state.returnOrder&&this.state.returnOrder.status==this.state.order_status,onClick:this.handleStatusSubmit,children:this.state.processing?"Processing":"Submit"}),(0,D.jsx)(r.A,{variant:"outlined",onClick:this.handleStatusDialogClose,children:"Cancel"})]})})]})})]})]})]})}}const W=(0,b.Gh)((0,g.A)((0,i.connect)((e=>({returnOrder:e.superadmin.returnOrders.returnOrder,auth:e.auth,saleExecutiveList:e.superadmin.salesExecutive.items})),(e=>({dispatch:e,actions:(0,j.bindActionCreators)({returnOrderView:_.AN,salesExecutiveList:y.xL},e)})))(O)))}}]);
(self.webpackChunk=self.webpackChunk||[]).push([[2385],{98549:(s,e,t)=>{"use strict";var a=t(96784);e.A=void 0;var r=a(t(17044)),n=t(62540),o=(0,r.default)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");e.A=o},11740:(s,e,t)=>{"use strict";var a=t(96784);e.A=void 0;var r=a(t(17044)),n=t(62540),o=(0,r.default)((0,n.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");e.A=o},70322:(s,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>F});var a=t(63696),r=t(52821),n=t(53975),o=t(92671),i=t(61095),l=t(52545),d=t(66593),c=t(63472),j=t(36122),m=t(41795),h=t(49746),u=t(45271),p=t(76641),g=t(54176),x=t(5389),f=t(88441),v=t(50977),b=t(45892),y=t(51449),w=t(37491),_=t(13007),k=t(80325),A=t(98549),z=t(11740),L=t(42689),S=t.n(L),N=t(42722),D=t(90742),C=t(63639),V=t(35332),I=t(62540);function M(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}class E extends a.Component{constructor(s){super(s),M(this,"updateFormValue",(s=>{const{name:e,value:t}=s.target;this.setState({formValues:{...this.state.formValues,[e]:t}})})),M(this,"handleSubmit",(async s=>{if(s.preventDefault(),this.formValidate()){this.setState({processing:!0,loginError:""});let s={...this.state.formValues},e=await(0,x.iD)(s);if(e.data.success)if("Distributor"!=e.data.data.user.role_name&&1==s.step)this.setState({step_two:!0,processing:!1,formValues:{...this.state.formValues,step:2}}),this.loadLocation();else{this.setState({processing:!1});let s=e.data.data;this.state.step_two&&(s.expiresOn=S()(S()().format("YYYY-MM-DD 09:59:59"),"YYYY-MM-DD HH:mm:ss").toDate().getTime(),s.loginOn=S()().toDate().getTime()),w.A.setItem("auth",JSON.stringify(s)),k.A.defaults.headers.Authorization="Bearer "+e.data.data.access_token,this.props.actions.getPermissions(),this.props.dispatch({type:N._x,payload:e.data.data})}else this.setState({loginError:e.data.message,processing:!1})}})),M(this,"formValidate",(()=>{let{formValues:s,formErrors:e}=this.state,t=!1;return s.user_name?e.user_name=null:(t=!0,e.user_name="Required."),s.password?e.password=null:(t=!0,e.password="Required."),this.setState({formErrors:e}),!t})),M(this,"loadLocation",(async()=>{try{let s=await this.fetchCoordinates();console.log(s);let e=s.coords.latitude,t=s.coords.longitude,a=new google.maps.LatLng(e,t),r=this,n=n=new google.maps.Geocoder;n.geocode({latLng:a},(function(s,a){let n="",o="",i="",l="",d="";a==google.maps.GeocoderStatus.OK&&s[0]&&(l=s[0].address_components[s[0].address_components.length-1].long_name,i=s[0].address_components[s[0].address_components.length-2].long_name,o=s[0].address_components[s[0].address_components.length-3].long_name,n=s[0].address_components[s[0].address_components.length-4].long_name,d=s[0].formatted_address),r.setState({formValues:{...r.state.formValues,address:d,city:n,state:o,country:i,zipcode:l,lat:e,lng:t},location_permission:1})}))}catch(s){this.setState({location_permission:2})}})),M(this,"fetchCoordinates",(async()=>new Promise(((s,e)=>{navigator.geolocation.getCurrentPosition(s,e)})))),M(this,"getCurrentAddress",(()=>{let s=[],e=this.state.formValues;return e.city&&s.push(e.city),e.state&&s.push(e.state),e.country&&s.push(e.country),e.zipcode&&s.push(e.zipcode),s.join(", ")})),M(this,"getCurrentDateTime",(()=>{const s=new Date,e=function(s){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"".concat(s).padStart(2,e)};return"".concat(e(s.getMonth()+1),"/").concat(e(s.getDate()),"/").concat(s.getFullYear()," ").concat(s.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}))})),this.state={isLoggedIn:this.props.isLoggedIn,roleName:this.props.roleName,roleList:this.props.roleList,loginError:"",formValues:{role_id:"",user_name:"",password:"",step:1,lat:"",lng:"",city:"",state:"",country:"",zipcode:""},formErrors:{role_id:"",user_name:"",password:"",step:1},processing:!1,step_two:!1,location_permission:0,passwordShow:!1}}componentDidMount(){this.state.isLoggedIn&&setTimeout((()=>{this.props.navigate((0,b.zr)(this.state.roleName))})),this.props.actions.getAllRoles()}componentDidUpdate(){this.state.isLoggedIn&&(this.props.enqueueSnackbar("Login successfully!",{variant:"success"}),this.props.navigate((0,b.zr)(this.state.roleName)))}static getDerivedStateFromProps(s,e){let t={};return s.auth!==e.auth&&(t.auth=s.auth),s.roleName!==e.roleName&&(t.roleName=s.roleName),s.isLoggedIn!==e.isLoggedIn&&(t.isLoggedIn=s.isLoggedIn),s.roleList!==e.roleList&&(t.roleList=s.roleList),t}render(){const{loginError:s,formValues:e,formErrors:t}=this.state;return console.log(this.state),(0,I.jsxs)("div",{className:"super-admin-login",children:[(0,I.jsxs)("div",{className:"square-box",children:[(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{})]}),(0,I.jsxs)(n.A,{component:"main",maxWidth:"sm",children:[(0,I.jsx)(o.Ay,{}),(0,I.jsxs)("div",{className:"login-wrapper",children:[(0,I.jsxs)(i.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,I.jsx)(l.A,{sx:{m:1,bgcolor:"secondary.main"},className:"login-icon",children:(0,I.jsx)(g.A,{})}),(0,I.jsx)(d.A,{component:"h1",variant:"h5",children:(0,I.jsx)("span",{style:{marginBottom:"15px",display:"block"},children:" Team Sign in "})}),s?(0,I.jsx)(i.A,{sx:{width:1},children:(0,I.jsx)(c.A,{severity:"error",sx:{marginBottom:"10px"},children:s})}):null,(0,I.jsx)("form",{onSubmit:this.handleSubmit,children:(0,I.jsxs)(i.A,{sx:{mt:1},className:"myinput",children:[this.state.step_two?(0,I.jsx)(I.Fragment,{children:2==this.state.location_permission?(0,I.jsx)(c.A,{severity:"error",sx:{marginBottom:"10px"},children:"Please allow location permission."}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(m.A,{fullWidth:!0,children:(0,I.jsxs)("p",{children:[(0,I.jsx)(D.A,{})," ",this.getCurrentDateTime()]})}),(0,I.jsx)(m.A,{fullWidth:!0,children:(0,I.jsxs)("p",{children:[(0,I.jsx)(C.A,{})," ",this.getCurrentAddress()]})})]})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j.A,{label:"User Name / Email / Mobile",margin:"normal",name:"user_name",value:e.user_name,fullWidth:!0,error:!!t.user_name,helperText:t.user_name?t.user_name:"",onChange:this.updateFormValue}),(0,I.jsx)(j.A,{label:"Password",margin:"normal",name:"password",type:this.state.passwordShow?"text":"password",value:e.password,fullWidth:!0,error:!!t.password,helperText:t.user_name?t.user_name:"",onChange:this.updateFormValue,InputProps:{endAdornment:(0,I.jsx)(_.A,{position:"end",children:this.state.passwordShow?(0,I.jsx)(A.A,{onClick:()=>this.setState({passwordShow:!1}),className:"cursor-pointer"}):(0,I.jsx)(z.A,{onClick:()=>this.setState({passwordShow:!0}),className:"cursor-pointer"})})}})]}),(0,I.jsx)(h.A,{className:"signin-btn",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:this.state.step_two?"Continue":"Sign In"}),(0,I.jsx)(u.Ay,{container:!0,children:(0,I.jsx)(u.Ay,{item:!0,xs:!0,children:(0,I.jsx)(p.A,{href:"/forgot-password",variant:"body2",className:"forget-text",children:"Forgot password?"})})})]})})]}),(0,I.jsxs)(d.A,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:6,mb:0},className:"copyright",children:["Copyright Â©  Prakriti ",(new Date).getFullYear(),(0,I.jsx)(p.A,{color:"inherit",href:"https://webappssol.com/",target:"_blank",children:"Â  "})]})]})]})]})}}const F=(0,y.Gh)((0,v.A)((0,r.connect)((s=>({auth:s.auth,isLoggedIn:"isLoggedIn"in s.auth&&s.auth.isLoggedIn,roleName:"user"in s.auth&&s.auth.user&&"role_name"in s.auth.user?s.auth.user.role_name:"",roleList:s.team.role.items})),(s=>({dispatch:s,actions:(0,f.bindActionCreators)({login:x.iD,getAllRoles:x.L_,getPermissions:V.V},s)})))(E)))},61738:(s,e,t)=>{var a={"./af":99805,"./af.js":99805,"./ar":94449,"./ar-dz":44468,"./ar-dz.js":44468,"./ar-kw":63480,"./ar-kw.js":63480,"./ar-ly":64197,"./ar-ly.js":64197,"./ar-ma":62180,"./ar-ma.js":62180,"./ar-sa":50230,"./ar-sa.js":50230,"./ar-tn":72808,"./ar-tn.js":72808,"./ar.js":94449,"./az":45865,"./az.js":45865,"./be":86627,"./be.js":86627,"./bg":60901,"./bg.js":60901,"./bm":63179,"./bm.js":63179,"./bn":61966,"./bn-bd":90969,"./bn-bd.js":90969,"./bn.js":61966,"./bo":6317,"./bo.js":6317,"./br":46474,"./br.js":46474,"./bs":35961,"./bs.js":35961,"./ca":77270,"./ca.js":77270,"./cs":61564,"./cs.js":61564,"./cv":43239,"./cv.js":43239,"./cy":92366,"./cy.js":92366,"./da":82453,"./da.js":82453,"./de":76601,"./de-at":47408,"./de-at.js":47408,"./de-ch":8101,"./de-ch.js":8101,"./de.js":76601,"./dv":96080,"./dv.js":96080,"./el":12655,"./el.js":12655,"./en-au":46836,"./en-au.js":46836,"./en-ca":22086,"./en-ca.js":22086,"./en-gb":2103,"./en-gb.js":2103,"./en-ie":35964,"./en-ie.js":35964,"./en-il":74379,"./en-il.js":74379,"./en-in":50765,"./en-in.js":50765,"./en-nz":71502,"./en-nz.js":71502,"./en-sg":1152,"./en-sg.js":1152,"./eo":90050,"./eo.js":90050,"./es":43350,"./es-do":49338,"./es-do.js":49338,"./es-mx":51326,"./es-mx.js":51326,"./es-us":89947,"./es-us.js":89947,"./es.js":43350,"./et":18231,"./et.js":18231,"./eu":28512,"./eu.js":28512,"./fa":59083,"./fa.js":59083,"./fi":25059,"./fi.js":25059,"./fil":32607,"./fil.js":32607,"./fo":83369,"./fo.js":83369,"./fr":27390,"./fr-ca":66711,"./fr-ca.js":66711,"./fr-ch":6152,"./fr-ch.js":6152,"./fr.js":27390,"./fy":62419,"./fy.js":62419,"./ga":3002,"./ga.js":3002,"./gd":82533,"./gd.js":82533,"./gl":16557,"./gl.js":16557,"./gom-deva":48944,"./gom-deva.js":48944,"./gom-latn":25387,"./gom-latn.js":25387,"./gu":17462,"./gu.js":17462,"./he":39237,"./he.js":39237,"./hi":49617,"./hi.js":49617,"./hr":36544,"./hr.js":36544,"./hu":60341,"./hu.js":60341,"./hy-am":41388,"./hy-am.js":41388,"./id":75251,"./id.js":75251,"./is":41146,"./is.js":41146,"./it":37891,"./it-ch":80007,"./it-ch.js":80007,"./it.js":37891,"./ja":73727,"./ja.js":73727,"./jv":5198,"./jv.js":5198,"./ka":28974,"./ka.js":28974,"./kk":37308,"./kk.js":37308,"./km":57786,"./km.js":57786,"./kn":84807,"./kn.js":84807,"./ko":61584,"./ko.js":61584,"./ku":61906,"./ku.js":61906,"./ky":79190,"./ky.js":79190,"./lb":7396,"./lb.js":7396,"./lo":38503,"./lo.js":38503,"./lt":33010,"./lt.js":33010,"./lv":5192,"./lv.js":5192,"./me":51944,"./me.js":51944,"./mi":56492,"./mi.js":56492,"./mk":2934,"./mk.js":2934,"./ml":61463,"./ml.js":61463,"./mn":8377,"./mn.js":8377,"./mr":78733,"./mr.js":78733,"./ms":18030,"./ms-my":39445,"./ms-my.js":39445,"./ms.js":18030,"./mt":55887,"./mt.js":55887,"./my":87228,"./my.js":87228,"./nb":48294,"./nb.js":48294,"./ne":19559,"./ne.js":19559,"./nl":20600,"./nl-be":78796,"./nl-be.js":78796,"./nl.js":20600,"./nn":9570,"./nn.js":9570,"./oc-lnc":5662,"./oc-lnc.js":5662,"./pa-in":87101,"./pa-in.js":87101,"./pl":56118,"./pl.js":56118,"./pt":29198,"./pt-br":7203,"./pt-br.js":7203,"./pt.js":29198,"./ro":45565,"./ro.js":45565,"./ru":33315,"./ru.js":33315,"./sd":58473,"./sd.js":58473,"./se":11258,"./se.js":11258,"./si":98798,"./si.js":98798,"./sk":26404,"./sk.js":26404,"./sl":7057,"./sl.js":7057,"./sq":25718,"./sq.js":25718,"./sr":45363,"./sr-cyrl":20478,"./sr-cyrl.js":20478,"./sr.js":45363,"./ss":37260,"./ss.js":37260,"./sv":42231,"./sv.js":42231,"./sw":27104,"./sw.js":27104,"./ta":47493,"./ta.js":47493,"./te":57705,"./te.js":57705,"./tet":94457,"./tet.js":94457,"./tg":22727,"./tg.js":22727,"./th":32206,"./th.js":32206,"./tk":33419,"./tk.js":33419,"./tl-ph":77243,"./tl-ph.js":77243,"./tlh":60016,"./tlh.js":60016,"./tr":87020,"./tr.js":87020,"./tzl":8026,"./tzl.js":8026,"./tzm":78537,"./tzm-latn":87899,"./tzm-latn.js":87899,"./tzm.js":78537,"./ug-cn":40818,"./ug-cn.js":40818,"./uk":48478,"./uk.js":48478,"./ur":77893,"./ur.js":77893,"./uz":89133,"./uz-latn":20311,"./uz-latn.js":20311,"./uz.js":89133,"./vi":52179,"./vi.js":52179,"./x-pseudo":92455,"./x-pseudo.js":92455,"./yo":3310,"./yo.js":3310,"./zh-cn":27244,"./zh-cn.js":27244,"./zh-hk":40076,"./zh-hk.js":40076,"./zh-mo":62305,"./zh-mo.js":62305,"./zh-tw":88588,"./zh-tw.js":88588};function r(s){var e=n(s);return t(e)}function n(s){if(!t.o(a,s)){var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}return a[s]}r.keys=function(){return Object.keys(a)},r.resolve=n,s.exports=r,r.id=61738}}]);
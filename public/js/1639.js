"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1639],{19316:function(e,t,r){r.d(t,{w:function(){return a}});var i=r(69222),s=r(29706),n=r(57446),a=function(e){return e=(0,n.B7)(e,!0),function(t){i.Z.get("/distributor/categories".concat(e)).then((function(e){e.data.success&&t({type:s._,payload:e.data.data})})).catch((function(e){}))}}},89030:function(e,t,r){r.d(t,{G:function(){return c},U:function(){return a}});var i=r(69222),s=r(13451),n=r(57446),a=function(e){return e=(0,n.B7)(e,!0),function(t){i.Z.get("/distributor/products".concat(e)).then((function(e){e.data.success&&t({type:s.t,payload:e.data.data})})).catch((function(e){}))}},c=function(e){return function(t){i.Z.get("/distributor/products/view/".concat(e)).then((function(e){e.data.success&&t({type:s._,payload:e.data.data})})).catch((function(e){}))}}},71866:function(e,t,r){r.d(t,{N:function(){return a}});var i=r(69222),s=r(25079),n=r(57446),a=function(e){return e=(0,n.B7)(e,!0),function(t){i.Z.get("/distributor/sub-categories".concat(e)).then((function(e){e.data.success&&t({type:s.J,payload:e.data.data})})).catch((function(e){}))}}},71639:function(e,t,r){r.r(t);var i=r(27378),s=r(23884),n=r(28730),a=r(23434),c=r(56793),o=r(66816),l=r(48684),d=r(60789),u=r(95287),p=r(10755),h=r(8971),f=r(13040),x=r(72897),m=(r(19316),r(71866),r(1903)),j=r(89030),g=r(78201),y=r(57446),b=(r(57987),r(39886),r(91434)),v=r(24246);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function C(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(m,e);var t,r,s,p,f,x=(p=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(p);if(f){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return C(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),F(S(t=x.call(this,e)),"getImageContent",(function(){var e=t.state,r=e.imageList,i=e.imageListIndex;return r.length?"video"==r[i].type?(setTimeout((function(){var e;t.videoFileRef&&(null===(e=t.videoFileRef.current)||void 0===e||e.load())}),1e3),(0,v.jsx)("video",{width:"200",height:"150",style:{height:"143px",objectFit:"contain"},loop:!0,controls:!0,ref:t.videoFileRef,autoPlay:!0,muted:!0,children:(0,v.jsx)("source",{src:r[i].path})},r[i].path)):(0,v.jsx)("img",{src:r[i].path,style:{maxWidth:"100%"}}):null})),F(S(t),"setThumbsSwiper",(function(e){console.log(e)})),F(S(t),"handleAddToCart",(function(){var e=t.state.product,r={product_id:e.id,type:e.type,stock_id:"material"==e.type?e.stock.stock_id:e.sizes[t.state.sizeIndex].stock_id,materials:"material"==e.type?e.stock.materials:e.sizes[t.state.sizeIndex].materials,size_id:"material"==e.type?"":e.sizes[t.state.sizeIndex].size_id};t.props.actions.cartStore(r)})),F(S(t),"handleSizeChange",(function(e){t.setState({sizeIndex:e.target.value})})),F(S(t),"handleBack",(function(){t.props.navigate("/distributor/orders/create")})),t.state={product:t.props.product,imageListIndex:0,imageList:[],sizeIndex:0,actionCalled:t.props.actionCalled,createSuccess:t.props.createSuccess,successMessage:t.props.successMessage,errorMessage:t.props.errorMessage},t.videoFileRef=i.createRef(),t}return t=m,s=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.product!==t.product&&(r.product=e.product),e.actionCalled!==t.actionCalled&&(r.actionCalled=e.actionCalled),e.createSuccess!==t.createSuccess&&(r.createSuccess=e.createSuccess),e.successMessage!==t.successMessage&&(r.successMessage=e.successMessage),e.errorMessage!==t.errorMessage&&(r.errorMessage=e.errorMessage),r}}],(r=[{key:"componentDidMount",value:function(){this.props.actions.productView(this.props.params.id)}},{key:"componentDidUpdate",value:function(e){if(this.props.product!=e.product&&this.props.product){var t=this.props.product,r=[];t.video&&r.push({type:"video",path:t.video});for(var i=0;i<t.images.length;i++)r.push({type:"image",path:t.images[i].path});this.setState({imageList:r})}this.state.actionCalled&&(this.state.createSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:g.kK}),this.props.actions.cartList()):(this.props.enqueueSnackbar(this.state.errorMessage,{variant:"error"}),this.props.dispatch({type:g.kK})))}},{key:"render",value:function(){var e=this.state,t=e.product;return e.imageList,(0,v.jsx)(h.Z,{title:"",children:(0,v.jsxs)("div",{children:[(0,v.jsxs)(n.Z,{variant:"text",onClick:this.handleBack,children:[(0,v.jsx)(b.Z,{})," Back"]}),t?(0,v.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(a.ZP,{item:!0,xs:4,children:(0,v.jsxs)("div",{className:"order_list_image",children:[(0,v.jsx)("img",{src:t.images[0].path,alt:""}),(0,v.jsxs)("div",{className:"price_breakup",children:[(0,v.jsx)("h4",{children:"Price Breakup"}),(0,v.jsx)("ul",{children:"material"==t.type?(0,v.jsxs)(v.Fragment,{children:[t.stock.materials.map((function(e,t){return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)("li",{children:e.name}),(0,v.jsx)("li",{children:e.price_display})]},t)})),(0,v.jsx)("li",{children:"Making Charge"}),(0,v.jsx)("li",{children:t.stock.making_charge_display})]}):(0,v.jsxs)(v.Fragment,{children:[t.sizes[this.state.sizeIndex].materials.map((function(e,t){return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)("li",{children:e.name}),(0,v.jsx)("li",{children:e.price_display})]},t)})),(0,v.jsx)("li",{children:"Making Charge"}),(0,v.jsx)("li",{children:t.sizes[this.state.sizeIndex].making_charge_display})]})}),(0,v.jsx)("hr",{}),(0,v.jsx)("ul",{children:"material"==t.type?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("li",{children:"Total"}),(0,v.jsx)("li",{children:t.stock.total_price_display})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("li",{children:"Total"}),(0,v.jsx)("li",{children:t.sizes[this.state.sizeIndex].total_price_display})]})})]}),(0,v.jsxs)("div",{className:"product_details price_breakup",children:[(0,v.jsx)("h4",{children:"Product Details"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"Product Code"}),(0,v.jsx)("li",{children:t.product_code}),(0,v.jsx)("li",{children:"Product Weight"}),(0,v.jsxs)("li",{children:["material"==t.type?t.stock.weight:t.sizes[this.state.sizeIndex].weight," gram"]})]}),(0,v.jsx)("hr",{}),"material"==t.type?(0,v.jsx)(v.Fragment,{children:t.stock.materials.map((function(e,t){return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)("h3",{style:{padding:"15px",margin:0,paddingBottom:0},children:e.name}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"Weight"}),(0,v.jsxs)("li",{children:[e.weight," ",e.unit_name]}),(0,y.xb)(e.quantity)?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{children:["Total No of ",e.name]}),(0,v.jsx)("li",{children:e.quantity})]})]})]},t)}))}):(0,v.jsx)(v.Fragment,{children:t.sizes[this.state.sizeIndex].materials.map((function(e,t){return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)("h3",{style:{padding:"15px",margin:0,paddingBottom:0},children:e.name}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"Weight"}),(0,v.jsxs)("li",{children:[e.weight," ",e.unit_name]}),(0,y.xb)(e.quantity)?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{children:["Total No of ",e.name]}),(0,v.jsx)("li",{children:e.quantity})]})]})]},t)}))})]})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:8,children:(0,v.jsxs)("div",{className:"order_list_content",children:[(0,v.jsx)("h1",{children:t.name}),(0,v.jsx)("div",{className:"ring-price",children:(0,v.jsxs)("span",{children:[" ","material"==t.type?t.stock.total_price_display:t.sizes[this.state.sizeIndex].total_price_display," "]})}),"material"!=t.type?(0,v.jsx)("div",{children:(0,v.jsxs)(c.Z,{sx:{mt:3,mb:1},children:[(0,v.jsx)(o.Z,{children:"Size"}),(0,v.jsx)(l.Z,{value:this.state.sizeIndex,label:"Size",onChange:this.handleSizeChange,defaultValue:"",children:t.sizes.map((function(e,t){return(0,v.jsx)(d.Z,{value:t,children:e.size_name},t)}))})]})}):null,"material"==t.type?(0,v.jsx)(v.Fragment,{children:t.stock.materials.map((function(e,t){return(0,v.jsx)(i.Fragment,{children:(0,v.jsx)("div",{children:(0,v.jsxs)("ul",{children:[(0,v.jsx)("h2",{children:e.name}),(0,v.jsx)("li",{children:e.purity_name})]})})},t)}))}):(0,v.jsx)(v.Fragment,{children:t.sizes[this.state.sizeIndex].materials.map((function(e,t){return(0,v.jsx)(i.Fragment,{children:(0,v.jsx)("div",{children:(0,v.jsxs)("ul",{children:[(0,v.jsx)("h2",{children:e.name}),(0,v.jsx)("li",{children:e.purity_name})]})})},t)}))}),(0,v.jsx)(n.Z,{variant:"primary",onClick:this.handleAddToCart,children:"ADD TO CART"})]})})]}):(0,v.jsx)(a.ZP,{container:!0,justifyContent:"center",children:(0,v.jsx)(u.Z,{})})]})})}}])&&k(t.prototype,r),s&&k(t,s),Object.defineProperty(t,"prototype",{writable:!1}),m}(i.Component);t.default=(0,x.RM)((0,f.Z)((0,s.connect)((function(e){return{product:e.distributor.product.product,actionCalled:e.distributor.cart.actionCalled,createSuccess:e.distributor.cart.createSuccess,successMessage:e.distributor.cart.successMessage,errorMessage:e.distributor.cart.errorMessage}}),(function(e){return{dispatch:e,actions:(0,p.bindActionCreators)({productView:j.G,cartStore:m.i8,cartList:m.bA},e)}}))(M)))}}]);
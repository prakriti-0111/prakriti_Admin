"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1782],{78633:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=n},39834:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=n},27668:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=n},71157:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=n},16655:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=n},51807:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");t.Z=n},28729:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=n},21589:function(e,t,s){var a=s(73203);t.Z=void 0;var r=a(s(19124)),i=s(24246),n=(0,r.default)((0,i.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.Z=n},62792:function(e,t,s){s.d(t,{Z:function(){return b}});var a=s(25773),r=s(30808),i=s(27378),n=s(38944),o=s(82267),c=s(6851),u=s(76112),l=s(67018),p=s(6749);function d(e){return(0,p.Z)("MuiTableFooter",e)}(0,s(44124).Z)("MuiTableFooter",["root"]);var f=s(24246);const h=["className","component"],m=(0,l.ZP)("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),y={variant:"footer"},g="tfoot";var b=i.forwardRef((function(e,t){const s=(0,u.Z)({props:e,name:"MuiTableFooter"}),{className:i,component:l=g}=s,p=(0,r.Z)(s,h),b=(0,a.Z)({},s,{component:l}),v=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},d,t)})(b);return(0,f.jsx)(c.Z.Provider,{value:y,children:(0,f.jsx)(m,(0,a.Z)({as:l,className:(0,n.Z)(v.root,i),ref:t,role:l===g?null:"rowgroup",ownerState:b},p))})}))},16345:function(e,t,s){s.r(t);var a=s(27378),r=s(23884),i=s(23434),n=s(10755),o=s(74154),c=s(8971),u=s(13040),l=s(59146),p=s(46265),d=s(74570),f=s(26803),h=s(69162),m=s(93033),y=s(77234),g=s(40372),b=s(83079),v=s(64125),S=s(72897),C=s(72359),j=s(24246);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){R(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Z(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function D(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(l,e);var t,s,a,r,n,u=(r=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(n){var s=L(this).constructor;e=Reflect.construct(t,arguments,s)}else e=t.apply(this,arguments);return D(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),R(x(t=u.call(this,e)),"handlePagination",(function(e){t.setState({queryParams:P(P({},t.state.queryParams),{},{page:e})},(function(){t.loadListData()}))})),R(x(t),"loadListData",(function(){t.props.actions.materialList(t.state.queryParams)})),R(x(t),"handleEdit",(function(e){t.setState({editRow:e})})),R(x(t),"handleDelete",(function(e){t.props.actions.materialDelete(e.id)})),R(x(t),"handleCreate",(function(){t.setState({openDialog:!0,dialogTitle:"Create Material",editRow:null})})),R(x(t),"handleDialogClose",(function(e,s){s&&"backdropClick"==s||t.setState({openDialog:!1,editRow:null})})),R(x(t),"submit",(function(e){t.state.editRow?t.props.actions.materialUpdate(t.state.editRow.id,e):t.props.actions.materialCreate(e)})),R(x(t),"handleCancel",(function(){t.handleDialogClose()})),R(x(t),"categoryChange",(function(e){t.setState({queryParams:P(P({},t.state.queryParams),{},{page:1,category_id:e})},(function(){t.loadListData()}))})),R(x(t),"handleMaterialChange",(function(e){t.setState({queryParams:P(P({},t.state.queryParams),{},{page:1,search:e})},(function(){t.loadListData()}))})),t.state=P(P({},t.props),{},{queryParams:{page:1,limit:50,category_id:"",search:""},openDialog:!1,isCreate:!0,editRow:null,categories:t.props.categories,units:t.props.units,purities:t.props.purities,createSuccess:!1,editSuccess:!1,deleteSuccess:!1,actionCalled:t.props.actionCalled,successMessage:t.props.successMessage,errorMessage:t.props.errorMessage,submitSuccess:!1}),t.columns=[{name:"name",display_name:"Material"},{name:"category",display_name:"Category"},{name:"unit",display_name:"Unit"},{name:"purities",display_name:"Purities",array_key:"name",raw:!0},{name:"status_display",display_name:"Status"}],t.tableActions=[{label:"Edit",onClick:t.handleEdit,color:"primary"},{label:"Delete",onClick:t.handleDelete,isDelete:!0,color:"error"}],t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){var s={};return e.items!==t.items&&(s.items=e.items),e.total!==t.total&&(s.total=e.total),e.actionCalled!==t.actionCalled&&(s.actionCalled=e.actionCalled),e.successMessage!==t.successMessage&&(s.successMessage=e.successMessage),e.errorMessage!==t.errorMessage&&(s.errorMessage=e.errorMessage),e.categories!==t.categories&&(s.categories=e.categories),e.units!==t.units&&(s.units=e.units),e.purities!==t.purities&&(s.purities=e.purities),"createSuccess"in e&&e.createSuccess!==t.createSuccess&&(s.createSuccess=e.createSuccess),"editSuccess"in e&&e.editSuccess!==t.editSuccess&&(s.editSuccess=e.editSuccess),"deleteSuccess"in e&&e.deleteSuccess!==t.deleteSuccess&&(s.deleteSuccess=e.deleteSuccess),s}}],(s=[{key:"componentDidMount",value:function(){this.loadListData(),this.props.actions.categoryList({all:1}),this.props.actions.unitList({all:1}),this.props.actions.purityList({all:1})}},{key:"componentDidUpdate",value:function(){var e=this;this.state.actionCalled&&(this.state.createSuccess||this.state.editSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:C.Y1}),this.setState({queryParams:P(P({},this.state.queryParams),{},{page:1}),openDialog:!1,editRow:null,submitSuccess:!0},(function(){e.loadListData(),e.setState({submitSuccess:!1})}))):this.state.deleteSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:C.Y1}),this.handlePagination(1)):null!=this.state.errorMessage&&(this.props.enqueueSnackbar(this.state.errorMessage,{variant:"error"}),this.props.dispatch({type:C.Y1})))}},{key:"render",value:function(){return(0,j.jsxs)(c.Z,{title:"Material",children:[(0,j.jsx)("div",{className:"tax-input p_view loans_view",children:(0,j.jsx)(y.Z,{onSubmit:this.submit,formData:this.state.editRow,categories:this.state.categories,units:this.state.units,purities:this.state.purities,handleCancel:this.handleCancel,categoryChange:this.categoryChange,submitSuccess:this.state.submitSuccess,handleMaterialChange:this.handleMaterialChange})}),(0,j.jsx)(i.ZP,{container:!0,spacing:o.dv,children:(0,j.jsx)(p.Z,{columns:this.columns,rows:this.state.items,page:this.state.queryParams.page,limit:this.state.queryParams.limit,total:this.state.total,handlePagination:this.handlePagination,actions:this.tableActions})}),(0,j.jsxs)(d.Z,{className:"ratn-dialog-wrapper",open:this.state.openDialog,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"md",children:[(0,j.jsx)(m.Z,{children:this.state.dialogTitle}),(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(h.Z,{}),(0,j.jsx)(y.Z,{onSubmit:this.submit,formData:this.state.editRow,categories:this.state.categories,units:this.state.units,purities:this.state.purities,handleCancel:this.handleCancel})]})]})]})}}])&&Z(t.prototype,s),a&&Z(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(a.Component);t.default=(0,S.RM)((0,u.Z)((0,r.connect)((function(e){return{items:e.superadmin.material.items,total:e.superadmin.material.total,categories:e.superadmin.category.items||[],units:e.superadmin.unit.items||[],purities:e.superadmin.purity.items||[],actionCalled:e.superadmin.material.actionCalled,createSuccess:e.superadmin.material.createSuccess,editSuccess:e.superadmin.material.editSuccess,deleteSuccess:e.superadmin.material.deleteSuccess,successMessage:e.superadmin.material.successMessage,errorMessage:e.superadmin.material.errorMessage}}),(function(e){return{dispatch:e,actions:(0,n.bindActionCreators)({materialList:l._1,materialCreate:l.K5,materialUpdate:l.LX,materialDelete:l.Qh,categoryList:g.wA,unitList:b.d9,purityList:v.uH},e)}}))(_)))}}]);
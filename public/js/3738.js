"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3738],{60789:function(e,t,a){a.d(t,{Z:function(){return P}});var s=a(30808),i=a(25773),r=a(27378),n=a(38944),o=a(82267),c=a(7818),l=a(67018),u=a(76112),p=a(54350),d=a(3870),m=a(36609),h=a(50128),f=a(67462),g=a(54202),y=a(86365),b=a(6749);function v(e){return(0,b.Z)("MuiMenuItem",e)}var S=(0,a(44124).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),C=a(24246);const O=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],w=(0,l.ZP)(d.Z,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${S.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${S.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${S.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${S.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${S.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${f.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${f.Z.inset}`]:{marginLeft:52},[`& .${y.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${y.Z.inset}`]:{paddingLeft:36},[`& .${g.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${g.Z.root} svg`]:{fontSize:"1.25rem"}}))));var P=r.forwardRef((function(e,t){const a=(0,u.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:d=!1,divider:f=!1,disableGutters:g=!1,focusVisibleClassName:y,role:b="menuitem",tabIndex:S}=a,P=(0,s.Z)(a,O),j=r.useContext(p.Z),M={dense:d||j.dense||!1,disableGutters:g},Z=r.useRef(null);(0,m.Z)((()=>{c&&Z.current&&Z.current.focus()}),[c]);const D=(0,i.Z)({},a,{dense:M.dense,divider:f,disableGutters:g}),x=(e=>{const{disabled:t,dense:a,divider:s,disableGutters:r,selected:n,classes:c}=e,l={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",s&&"divider",n&&"selected"]},u=(0,o.Z)(l,v,c);return(0,i.Z)({},c,u)})(a),k=(0,h.Z)(Z,t);let $;return a.disabled||($=void 0!==S?S:-1),(0,C.jsx)(p.Z.Provider,{value:M,children:(0,C.jsx)(w,(0,i.Z)({ref:k,role:b,tabIndex:$,component:l,focusVisibleClassName:(0,n.Z)(x.focusVisible,y)},P,{ownerState:D,classes:x}))})}))},16345:function(e,t,a){a.r(t);var s=a(27378),i=a(23884),r=a(23434),n=a(10755),o=a(74154),c=a(8971),l=a(13040),u=a(59146),p=a(46265),d=a(74570),m=a(26803),h=a(69162),f=a(93033),g=a(77234),y=a(40372),b=a(83079),v=a(64125),S=a(72897),C=a(72359),O=a(24246);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){$(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function D(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(u,e);var t,a,s,i,n,l=(i=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(i);if(n){var a=k(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return D(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),$(x(t=l.call(this,e)),"handlePagination",(function(e){t.setState({queryParams:j(j({},t.state.queryParams),{},{page:e})},(function(){t.loadListData()}))})),$(x(t),"loadListData",(function(){t.props.actions.materialList(t.state.queryParams)})),$(x(t),"handleEdit",(function(e){t.setState({editRow:e})})),$(x(t),"handleDelete",(function(e){t.props.actions.materialDelete(e.id)})),$(x(t),"handleCreate",(function(){t.setState({openDialog:!0,dialogTitle:"Create Material",editRow:null})})),$(x(t),"handleDialogClose",(function(e,a){a&&"backdropClick"==a||t.setState({openDialog:!1,editRow:null})})),$(x(t),"submit",(function(e){t.state.editRow?t.props.actions.materialUpdate(t.state.editRow.id,e):t.props.actions.materialCreate(e)})),$(x(t),"handleCancel",(function(){t.handleDialogClose()})),$(x(t),"categoryChange",(function(e){t.setState({queryParams:j(j({},t.state.queryParams),{},{page:1,category_id:e})},(function(){t.loadListData()}))})),$(x(t),"handleMaterialChange",(function(e){t.setState({queryParams:j(j({},t.state.queryParams),{},{page:1,search:e})},(function(){t.loadListData()}))})),t.state=j(j({},t.props),{},{queryParams:{page:1,limit:50,category_id:"",search:""},openDialog:!1,isCreate:!0,editRow:null,categories:t.props.categories,units:t.props.units,purities:t.props.purities,createSuccess:!1,editSuccess:!1,deleteSuccess:!1,actionCalled:t.props.actionCalled,successMessage:t.props.successMessage,errorMessage:t.props.errorMessage,submitSuccess:!1}),t.columns=[{name:"name",display_name:"Material"},{name:"category",display_name:"Category"},{name:"unit",display_name:"Unit"},{name:"purities",display_name:"Purities",array_key:"name",raw:!0},{name:"status_display",display_name:"Status"}],t.tableActions=[{label:"Edit",onClick:t.handleEdit,color:"primary"},{label:"Delete",onClick:t.handleDelete,isDelete:!0,color:"error"}],t}return t=u,s=[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.items!==t.items&&(a.items=e.items),e.total!==t.total&&(a.total=e.total),e.actionCalled!==t.actionCalled&&(a.actionCalled=e.actionCalled),e.successMessage!==t.successMessage&&(a.successMessage=e.successMessage),e.errorMessage!==t.errorMessage&&(a.errorMessage=e.errorMessage),e.categories!==t.categories&&(a.categories=e.categories),e.units!==t.units&&(a.units=e.units),e.purities!==t.purities&&(a.purities=e.purities),"createSuccess"in e&&e.createSuccess!==t.createSuccess&&(a.createSuccess=e.createSuccess),"editSuccess"in e&&e.editSuccess!==t.editSuccess&&(a.editSuccess=e.editSuccess),"deleteSuccess"in e&&e.deleteSuccess!==t.deleteSuccess&&(a.deleteSuccess=e.deleteSuccess),a}}],(a=[{key:"componentDidMount",value:function(){this.loadListData(),this.props.actions.categoryList({all:1}),this.props.actions.unitList({all:1}),this.props.actions.purityList({all:1})}},{key:"componentDidUpdate",value:function(){var e=this;this.state.actionCalled&&(this.state.createSuccess||this.state.editSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:C.Y1}),this.setState({queryParams:j(j({},this.state.queryParams),{},{page:1}),openDialog:!1,editRow:null,submitSuccess:!0},(function(){e.loadListData(),e.setState({submitSuccess:!1})}))):this.state.deleteSuccess?(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.props.dispatch({type:C.Y1}),this.handlePagination(1)):null!=this.state.errorMessage&&(this.props.enqueueSnackbar(this.state.errorMessage,{variant:"error"}),this.props.dispatch({type:C.Y1})))}},{key:"render",value:function(){return(0,O.jsxs)(c.Z,{title:"Material",children:[(0,O.jsx)("div",{className:"tax-input p_view loans_view",children:(0,O.jsx)(g.Z,{onSubmit:this.submit,formData:this.state.editRow,categories:this.state.categories,units:this.state.units,purities:this.state.purities,handleCancel:this.handleCancel,categoryChange:this.categoryChange,submitSuccess:this.state.submitSuccess,handleMaterialChange:this.handleMaterialChange})}),(0,O.jsx)(r.ZP,{container:!0,spacing:o.dv,children:(0,O.jsx)(p.Z,{columns:this.columns,rows:this.state.items,page:this.state.queryParams.page,limit:this.state.queryParams.limit,total:this.state.total,handlePagination:this.handlePagination,actions:this.tableActions})}),(0,O.jsxs)(d.Z,{className:"ratn-dialog-wrapper",open:this.state.openDialog,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"md",children:[(0,O.jsx)(f.Z,{children:this.state.dialogTitle}),(0,O.jsxs)(m.Z,{children:[(0,O.jsx)(h.Z,{}),(0,O.jsx)(g.Z,{onSubmit:this.submit,formData:this.state.editRow,categories:this.state.categories,units:this.state.units,purities:this.state.purities,handleCancel:this.handleCancel})]})]})]})}}])&&M(t.prototype,a),s&&M(t,s),Object.defineProperty(t,"prototype",{writable:!1}),u}(s.Component);t.default=(0,S.RM)((0,l.Z)((0,i.connect)((function(e){return{items:e.superadmin.material.items,total:e.superadmin.material.total,categories:e.superadmin.category.items||[],units:e.superadmin.unit.items||[],purities:e.superadmin.purity.items||[],actionCalled:e.superadmin.material.actionCalled,createSuccess:e.superadmin.material.createSuccess,editSuccess:e.superadmin.material.editSuccess,deleteSuccess:e.superadmin.material.deleteSuccess,successMessage:e.superadmin.material.successMessage,errorMessage:e.superadmin.material.errorMessage}}),(function(e){return{dispatch:e,actions:(0,n.bindActionCreators)({materialList:u._1,materialCreate:u.K5,materialUpdate:u.LX,materialDelete:u.Qh,categoryList:y.wA,unitList:b.d9,purityList:v.uH},e)}}))(R)))}}]);
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6265],{46265:function(e,n,t){var o=t(27378),a=t(83160),r=t(96966),i=t(78153),l=t(28730),s=t(23434),c=t(56793),u=t(55378),d=t(60789),h=t(80626),p=t(97722),g=t(49444),f=t(92146),m=t(47265),y=t(96616),x=t(62792),j=t(68456),b=t(19265),v=t(23615),w=t.n(v),C=t(74570),A=t(16569),Z=t(26803),_=t(69162),k=t(93033),S=t(57446),O=t(16655),P=t(28729),N=t(95343),D=t(78633),V=t(87264),I=t(51807),B=t(27668),R=t(39834),H=t(71157),T=t(21589),F=t(11131),W=t(89915),E=t(24246);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function z(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,n){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},U(e,n)}function Y(e,n){if(n&&("object"===L(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function G(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var J=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&U(e,n)}(K,e);var n,t,v,w,L,J=(w=K,L=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=q(w);if(L){var t=q(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Y(this,e)});function K(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,K),G($(n=J.call(this,e)),"handleChangePage",(function(e,t){n.props.handlePagination(t)})),G($(n),"getArrayComponent",(function(e,n){return(0,E.jsx)(E.Fragment,{children:e.map((function(e,t){return(0,E.jsxs)(o.Fragment,{children:[e,!1!==n?(0,E.jsx)(E.Fragment,{children:"Â "}):""]},t)}))})})),G($(n),"getData",(function(e){var t,o=[],i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,r=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw r}}}}(n.state.columns);try{var l=function(){var i=t.value,l=i.name in e?e[i.name]:"";if(Array.isArray(l))if("show_tag"in i){for(var s=[],c=0;c<l.length;c++)s.push((0,E.jsx)(a.Z,{label:l[c][i.array_key],color:"primary"}));l=n.getArrayComponent(s)}else{var u=[];if("array_key"in i){for(var d=0;d<l.length;d++)u.push(l[d][i.array_key]);l=u}l=(0,S.o3)(l.join("\n"))}else{if("show_tag"in i){var h="primary";if("color_conditions"in i){for(var p=0;p<i.color_conditions.length;p++)if(i.color_conditions[p].value==e[i.color_conditions[p].key]){h=i.color_conditions[p].color;break}}else"Status"==i.display_name&&(h=(0,S.z2)(l));if(l=l?(0,E.jsx)(a.Z,{label:l,color:h}):"","showAttendenceAddress"in i&&i.showAttendenceAddress){var g=[];e.attendence_address&&e.attendence_address.login&&(g.push((0,E.jsx)("a",{href:"http://maps.google.com/?ll="+e.attendence_address.login.lat+","+e.attendence_address.login.lng,style:{display:"block"},target:"_blank",children:e.attendence_address.login.address})),e.attendence_address.logout&&g.push((0,E.jsx)("a",{href:"http://maps.google.com/?ll="+e.attendence_address.logout.lat+","+e.attendence_address.logout.lng,target:"_blank",children:e.attendence_address.logout.address}))),l=[l].concat(g),l=n.getArrayComponent(l,!1)}if("redirectToMap"in i&&i.redirectToMap){var f=[(0,E.jsx)("a",{href:"http://maps.google.com/?ll="+e.lat+","+e.lng,style:{display:"block"},target:"_blank",children:l})];l=n.getArrayComponent(f,!1)}}"isBold"in i&&i.isBold&&(l=n.getArrayComponent([(0,E.jsx)("b",{children:l})]))}if("isImage"in i&&i.isImage){var m={width:"isBanner"in i&&i.isBanner?"200px":"60px"};"isBanner"in i&&i.isBanner||(m.height="40px"),o.push((0,E.jsx)("img",{src:l,style:m,className:"table-data-image cursor-pointer",onClick:function(){return n.handleImageClick(l)}}))}else if("isRating"in i&&i.isRating)o.push((0,E.jsx)(r.Z,{name:"read-only",value:l,readOnly:!0}));else{var y="";if("class_conditions"in i)for(var x=0;x<i.class_conditions.length;x++)if(i.class_conditions[x].value==e[i.class_conditions[x].key]){y=i.class_conditions[x].class_name;break}"isHtml"in i&&i.isHtml&&(l=n.getArrayComponent([(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})])),y&&(l=n.getArrayComponent([(0,E.jsx)("span",{className:y,children:l})])),o.push(l)}};for(i.s();!(t=i.n()).done;)l()}catch(e){i.e(e)}finally{i.f()}return o})),G($(n),"getActionIcon",(function(e){if("icon"in e&&!1===e.icon)return e.label;switch(e.label){case"Edit":return(0,E.jsx)(P.Z,{});case"Delete":return(0,E.jsx)(O.Z,{});case"View":return(0,E.jsx)(N.Z,{});case"+":return(0,E.jsx)(D.Z,{});case"Download":return(0,E.jsx)(V.Z,{});case"green_tick":return(0,E.jsx)(I.Z,{});case"Accept":return(0,E.jsx)(B.Z,{});case"Decline":return(0,E.jsx)(R.Z,{});case"Close":return(0,E.jsx)(H.Z,{});case"Return":return(0,E.jsx)(T.Z,{});case"Assign":return(0,E.jsx)(F.Z,{});case"Permissions":return(0,E.jsx)(W.Z,{})}})),G($(n),"handleActionButtonClick",(function(e,t){"isDelete"in e&&e.isDelete?n.setState({deleteDialogOpen:!0,deleteRow:t,deleteFun:e.onClick}):e.onClick(t)})),G($(n),"handleClose",(function(){n.setState({deleteDialogOpen:!1})})),G($(n),"handleDelete",(function(){n.state.deleteFun(n.state.deleteRow),n.setState({deleteDialogOpen:!1})})),G($(n),"checkActionBtnCondtion",(function(e,n){for(var t=[],o=0;o<e.length;o++)"con_type"in e[o]?n[e[o].key]!=e[o].value&&t.push(!0):n[e[o].key]==e[o].value&&t.push(!0);return t.length==e.length})),G($(n),"getColumnStyle",(function(e){var n={};return"width"in e&&(n.width=e.width),n})),G($(n),"getActionValueStyle",(function(e){for(var t="",o=0;o<n.state.actionValueColorConditions.length;o++)if(n.state.actionValueColorConditions[o].value==e){t=n.state.actionValueColorConditions[o].color;break}return t?{color:t}:{}})),G($(n),"getSerialNo",(function(e,n,t){var o=(n-1)*t+e+1;return o<10?"0"+o:o})),G($(n),"handleLimitChange",(function(e){n.setState({manualLimit:e.target.value,showAll:"all"==e.target.value},(function(){n.props.handlePagination("all"==e.target.value?1:n.state.page,n.state.showAll)}))})),G($(n),"handleImageClick",(function(e){n.setState({imageDialogOpen:!0,imagePath:e})})),G($(n),"handleImageDialogClose",(function(){n.setState({imageDialogOpen:!1})})),n.state={minWidth:n.props.minWidth,columns:n.props.columns,rows:n.props.rows,page:n.props.page,limit:n.props.limit,total:n.props.total,columnAlign:n.props.columnAlign,rowAlign:n.props.rowAlign,haveAction:n.props.haveAction,actions:n.props.actions,actionValue:n.props.actionValue,deleteDialogOpen:!1,deleteRow:null,deleteFun:null,havePagination:n.props.havePagination,actionValueColorConditions:n.props.actionValueColorConditions,showSerialNo:n.props.showSerialNo,haveAllOption:n.props.haveAllOption,stickyHeader:n.props.stickyHeader,showAll:!1,manualLimit:n.props.limit,imageDialogOpen:!1,imagePath:""},n}return n=K,v=[{key:"getDerivedStateFromProps",value:function(e,n){var t={};return e.rows!==n.rows&&(t.rows=e.rows),e.page!==n.page&&(t.page=e.page),e.total!==n.total&&(t.total=e.total),e.actions!==n.actions&&(t.actions=e.actions),t}}],(t=[{key:"render",value:function(){var e=this,n=this.state,t=n.rows,a=n.columnAlign,r=n.rowAlign,v=n.total,w=n.limit,S=n.page,O=n.columns,P=n.actions,N=n.havePagination,D=n.haveAllOption,V=n.showAll,I=n.stickyHeader,B=V?1:Math.ceil(v/w);return(0,E.jsxs)(y.Z,{component:b.Z,className:"ratn-table-wrapper",sx:{maxHeight:500},children:[(0,E.jsxs)(p.Z,{sx:{minWidth:500},stickyHeader:I,children:[(0,E.jsx)(g.Z,{className:"ratn-table-header",children:(0,E.jsxs)(j.Z,{children:[this.state.showSerialNo?(0,E.jsx)(m.Z,{align:a,children:"#"}):null,O.map((function(n,t){return(0,E.jsxs)(m.Z,{align:a,sx:e.getColumnStyle(n),className:"className"in n?n.className:"",children:[n.display_name,"helper_text"in n?(0,E.jsx)("p",{className:"table-column-helper-text",children:n.helper_text}):null]},t)})),P.length||""!=this.state.actionValue?(0,E.jsx)(m.Z,{align:a,sx:{width:100},children:"Actions"}):null]})}),(0,E.jsxs)(f.Z,{children:[t.map((function(n,t){return(0,E.jsxs)(j.Z,{children:[e.state.showSerialNo?(0,E.jsx)(m.Z,{align:r,children:e.getSerialNo(t,S,w)}):null,e.getData(n).map((function(e,n){return(0,E.jsx)(m.Z,{align:r,children:e},t+n)})),P.length||""!=e.state.actionValue?(0,E.jsxs)(m.Z,{align:r,className:"action_btn",children:[P.length?(0,E.jsx)(i.Z,{spacing:1,direction:"row",justifyContent:r,alignItems:r,children:P.map((function(t,a){return(0,E.jsx)(o.Fragment,{children:"show"in t&&!t.show||!("conditions"in t&&e.checkActionBtnCondtion(t.conditions,n)||!("conditions"in t))?null:(0,E.jsx)(l.Z,{variant:"contained",color:t.color,onClick:function(){return e.handleActionButtonClick(t,n)},disabled:!!t.disabled&&t.disabled,children:e.getActionIcon(t)},"b"+a)},a)}))}):null,""!=e.state.actionValue?(0,E.jsx)("span",{style:e.getActionValueStyle(n[e.state.actionValue]),children:n[e.state.actionValue]}):null]}):null]},t)})),0==t.length?(0,E.jsx)(j.Z,{children:(0,E.jsx)(m.Z,{align:"center",colSpan:O.length+P.length+(this.state.showSerialNo?1:0),children:"No data found."})}):null]}),(0,E.jsx)(x.Z,{children:(0,E.jsx)(j.Z,{})})]}),v>0&&N?(0,E.jsxs)(s.ZP,{container:!0,alignItems:"right",className:"ratn-table-footer",children:[D?(0,E.jsx)(s.ZP,{item:!0,xs:2,children:(0,E.jsx)(c.Z,{size:"small",children:(0,E.jsxs)(u.Z,{className:"input-inner",value:this.state.manualLimit,fullWidth:!0,onChange:this.handleLimitChange,children:[(0,E.jsx)(d.Z,{value:w,children:w}),(0,E.jsx)(d.Z,{value:"all",children:"All"})]})})}):null,(0,E.jsx)(s.ZP,{item:!0,xs:D?10:12,children:(0,E.jsx)(h.Z,{count:B,page:S,onChange:this.handleChangePage})})]}):null,(0,E.jsxs)(C.Z,{className:"ratn-dialog-footer delete_modal",open:this.state.deleteDialogOpen,onClose:this.handleClose,fullWidth:!0,maxWidth:"md",children:[(0,E.jsx)(k.Z,{children:"Delete"}),(0,E.jsx)(Z.Z,{children:(0,E.jsx)(_.Z,{id:"alert-dialog-slide-description",children:"Are you sure want to delete this record?"})}),(0,E.jsx)(A.Z,{children:(0,E.jsxs)("div",{className:"ratn-footer-buttons",children:[(0,E.jsx)(l.Z,{onClick:this.handleClose,className:"close-button",children:"Close"}),(0,E.jsx)(l.Z,{onClick:this.handleDelete,className:"conf-button",children:"Yes, Confirm"})]})})]}),(0,E.jsxs)(C.Z,{onClose:this.handleImageDialogClose,open:this.state.imageDialogOpen,children:[(0,E.jsx)(k.Z,{children:(0,E.jsx)(H.Z,{sx:{cursor:"pointer",float:"right",marginTop:"5px",width:"30px"},onClick:this.handleImageDialogClose})}),(0,E.jsx)(Z.Z,{children:(0,E.jsx)("img",{src:this.state.imagePath,width:500,height:350})})]})]})}}])&&z(n.prototype,t),v&&z(n,v),Object.defineProperty(n,"prototype",{writable:!1}),K}(o.Component);J.defaultProps={minWidth:500,columns:[],rows:[],page:0,limit:0,total:0,columnAlign:"left",rowAlign:"left",haveAction:!0,actions:[],havePagination:!0,actionValue:"",actionValueColorConditions:[],showSerialNo:!0,haveAllOption:!1,loading:!1,stickyHeader:!0},J.propTypes={minWidth:w().number,columns:w().array,actionValueColorConditions:w().array,rows:w().array,page:w().number,limit:w().number,total:w().number,columnAlign:w().string,actionValue:w().string,rowAlign:w().string,haveAction:w().bool,actions:w().array,havePagination:w().bool,showSerialNo:w().bool,loading:w().bool,stickyHeader:w().bool},n.Z=J}}]);
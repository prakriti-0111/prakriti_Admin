"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4584],{36213:(e,t,s)=>{s.d(t,{A:()=>P});var a=s(49257),n=s(68102),i=s(63696),r=s(68017),l=s(81023),o=s(91785),c=s(28362),d=s(90013),u=s(2512),m=s(46733);function h(e){return(0,m.A)("MuiCircularProgress",e)}(0,s(29009).A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=s(62540);const x=["className","color","disableShrink","size","style","thickness","value","variant"];let A,y,v,b,g=e=>e;const j=(0,o.i7)(A||(A=g`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),f=(0,o.i7)(y||(y=g`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),_=(0,u.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],t[`color${(0,c.A)(s.color)}`]]}})((({ownerState:e,theme:t})=>(0,n.A)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,o.AH)(v||(v=g`
      animation: ${0} 1.4s linear infinite;
    `),j))),S=(0,u.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C=(0,u.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.circle,t[`circle${(0,c.A)(s.variant)}`],s.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,n.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,o.AH)(b||(b=g`
      animation: ${0} 1.4s ease-in-out infinite;
    `),f))),P=i.forwardRef((function(e,t){const s=(0,d.A)({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:u=!1,size:m=40,style:A,thickness:y=3.6,value:v=0,variant:b="indeterminate"}=s,g=(0,a.A)(s,x),j=(0,n.A)({},s,{color:o,disableShrink:u,size:m,thickness:y,value:v,variant:b}),f=(e=>{const{classes:t,variant:s,color:a,disableShrink:n}=e,i={root:["root",s,`color${(0,c.A)(a)}`],svg:["svg"],circle:["circle",`circle${(0,c.A)(s)}`,n&&"circleDisableShrink"]};return(0,l.A)(i,h,t)})(j),P={},k={},M={};if("determinate"===b){const e=2*Math.PI*((44-y)/2);P.strokeDasharray=e.toFixed(3),M["aria-valuenow"]=Math.round(v),P.strokeDashoffset=`${((100-v)/100*e).toFixed(3)}px`,k.transform="rotate(-90deg)"}return(0,p.jsx)(_,(0,n.A)({className:(0,r.A)(f.root,i),style:(0,n.A)({width:m,height:m},k,A),ownerState:j,ref:t,role:"progressbar"},M,g,{children:(0,p.jsx)(S,{className:f.svg,ownerState:j,viewBox:"22 22 44 44",children:(0,p.jsx)(C,{className:f.circle,style:P,ownerState:j,cx:44,cy:44,r:(44-y)/2,fill:"none",strokeWidth:y})})}))}))},64584:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var a=s(63696),n=s(52821),i=s(49746),r=s(45271),l=s(36213),o=s(61095),c=s(36122),d=s(88441),u=s(66098),m=s(50977),h=s(45892),p=s(16520),x=(s(86552),s(88019),s(76712),s(27874)),A=s(73842),y=s(89429),v=s(52805),b=s(79859),g=s(43191),j=s(55482),f=s(13007),_=s(41795),S=s(66107),C=s(26365),P=s(78976),k=s(59875),M=s(72839),N=s(62540);function w(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class D extends a.Component{constructor(e){super(e),w(this,"renderAmountField",(e=>{let{input:t,label:s,meta:{touched:a,error:n},...i}=e;return(0,N.jsx)(c.A,{label:s,fullWidth:!0,error:!(!a||!n),helperText:a&&n?n:"",InputProps:{startAdornment:(0,N.jsx)(f.A,{position:"start",children:"â‚¹"})},...t,...i})})),w(this,"renderPaymentModeField",(e=>{let{input:t,label:s,meta:{touched:a,error:n},...i}=e;return(0,N.jsxs)(_.A,{fullWidth:!0,error:!(!a||!n),children:[s?(0,N.jsx)(S.A,{children:s}):null,(0,N.jsxs)(C.A,{label:s,fullWidth:!0,...t,...i,children:[(0,N.jsx)(P.A,{value:""}),(0,N.jsx)(P.A,{value:"cash",children:"Cash"}),(0,N.jsx)(P.A,{value:"cheque",children:"Cheque"}),(0,N.jsx)(P.A,{value:"imps_neft",children:"NEFT/IMPS/UPI"}),(0,N.jsx)(P.A,{value:"online",children:"Online"})]}),a&&n?(0,N.jsx)(k.A,{children:n}):null]})})),this.state={}}componentDidMount(){}static getDerivedStateFromProps(e,t){return{}}render(){const{handleSubmit:e,pristine:t,submitting:s}=this.props;return(0,N.jsx)("form",{onSubmit:e,children:(0,N.jsxs)(o.A,{sx:{flexGrow:1},children:[(0,N.jsxs)(r.Ay,{container:!0,spacing:2,className:"tax-input",children:[(0,N.jsx)(r.Ay,{item:!0,xs:12,children:(0,N.jsx)(j.D0,{name:"amount",component:this.renderAmountField,label:"Amount"})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,className:"create-input",children:(0,N.jsx)(j.D0,{name:"payment_mode",component:this.renderPaymentModeField,label:"Payment Mode",type:"select"})})]}),(0,N.jsxs)(M.A,{spacing:1,mt:2,direction:"row",justifyContent:"flex-end",className:"p-submit-button modal-button-area",children:[(0,N.jsx)(i.A,{variant:"contained",type:"submit",disabled:s,children:"Submit"}),(0,N.jsx)(i.A,{variant:"outlined",onClick:()=>this.props.handleCancel(),children:"Cancel"})]})]})})}}const I=(0,m.A)((0,n.connect)((e=>({})),(e=>({dispatch:e})))((0,j.zW)({form:"LoanPaymentForm",validate:e=>{const t={};return["amount","payment_mode"].forEach((s=>{e[s]||(t[s]="This field is required.")})),t}})(D)));var W=s(51449);function F(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class T extends a.Component{constructor(e){super(e),F(this,"loadViewData",(()=>{this.props.actions.loanView(this.props.params.id)})),F(this,"handleCancel",(()=>{this.handleDialogClose()})),F(this,"handleCreate",(()=>{this.setState({openDialog:!0,dialogTitle:"Make Payment"})})),F(this,"handleDialogClose",((e,t)=>{t&&"backdropClick"==t||this.setState({openDialog:!1})})),F(this,"submitLoanPayment",(e=>{this.props.actions.loanPayment(this.props.params.id,e)})),this.state={loan:this.props.loan,processing:!1,openDialog:!1,actionCalled:this.props.actionCalled,paymentSuccess:this.props.paymentSuccess,successMessage:this.props.successMessage,errorMessage:this.props.errorMessage},this.columns=[{name:"amount",display_name:"Payment"},{name:"payment_mode",display_name:"Payment Mode"},{name:"payment_receive_date",display_name:"Payment Date"},{name:"status",display_name:"Status"}]}componentDidMount(){this.loadViewData()}static getDerivedStateFromProps(e,t){let s={};return e.loan!==t.loan&&(s.loan=e.loan),e.actionCalled!==t.actionCalled&&(s.actionCalled=e.actionCalled),e.paymentSuccess!==t.paymentSuccess&&(s.paymentSuccess=e.paymentSuccess),e.successMessage!==t.successMessage&&(s.successMessage=e.successMessage),e.errorMessage!==t.errorMessage&&(s.errorMessage=e.errorMessage),s}componentDidUpdate(){this.state.actionCalled&&(this.state.paymentSuccess&&(this.props.enqueueSnackbar(this.state.successMessage,{variant:"success"}),this.setState({openDialog:!1},(()=>{this.loadViewData()}))),(0,h.Im)(this.state.errorMessage)||this.props.enqueueSnackbar(this.state.errorMessage,{variant:"error"}),this.props.dispatch({type:A.h7}))}render(){const{loan:e}=this.state;let t="";return e&&(t=e.investor_name,t+="   "+e.investor_mobile,t+="   "+e.investor_address),(0,N.jsxs)(u.A,{title:t,secondary:e&&"pending"==e.status?(0,N.jsx)(i.A,{variant:"contained",onClick:this.handleCreate,children:"Payment"}):null,children:[e?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.A,{sx:{flexGrow:1,m:.5},className:"ratn-dialog-wrapper",children:(0,N.jsx)("div",{autoComplete:"off",className:"ratn-dialog-inner",children:(0,N.jsxs)(r.Ay,{container:!0,spacing:2,className:"loans_view p_view",children:[(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Principal Amount",variant:"outlined",fullWidth:!0,value:e.loan_amount,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Interest Rate",variant:"outlined",fullWidth:!0,value:e.interest_display,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Total Amt With INT",variant:"outlined",fullWidth:!0,value:e.total_with_interest,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Total Paid Amt",variant:"outlined",fullWidth:!0,value:e.total_paid,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Total Rest Due Amt",variant:"outlined",fullWidth:!0,value:e.due_amount,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Loan Start Date",variant:"outlined",fullWidth:!0,value:e.start_date,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Duration",variant:"outlined",fullWidth:!0,value:e.total_months,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Interest Type",variant:"outlined",fullWidth:!0,value:e.interest_display_type,disabled:!0,InputProps:{className:"non_disable_text"}})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,md:2,className:"create-input",children:(0,N.jsx)(c.A,{label:"Monthly EMI",variant:"outlined",fullWidth:!0,value:e.monthly_emi,disabled:!0,InputProps:{className:"non_disable_text"}})})]})})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,className:"create-input",children:(0,N.jsx)(x.A,{columns:this.columns,rows:e.loan_details,page:1,limit:20,total:this.state.total,havePagination:!1})})]}):(0,N.jsx)(r.Ay,{container:!0,justifyContent:"center",children:(0,N.jsx)(l.A,{})}),(0,N.jsxs)(y.A,{open:this.state.openDialog,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"xs",className:"ratn-dialog-wrapper",children:[(0,N.jsx)(g.A,{children:this.state.dialogTitle}),(0,N.jsxs)(v.A,{children:[(0,N.jsx)(b.A,{}),(0,N.jsx)(I,{onSubmit:this.submitLoanPayment,handleCancel:this.handleCancel})]})]})]})}}const R=(0,W.Gh)((0,m.A)((0,n.connect)((e=>({loan:e.superadmin.loan.loan,actionCalled:e.superadmin.loan.actionCalled,paymentSuccess:e.superadmin.loan.paymentSuccess,successMessage:e.superadmin.loan.successMessage,errorMessage:e.superadmin.loan.errorMessage})),(e=>({dispatch:e,actions:(0,d.bindActionCreators)({loanView:p.qF,loanPayment:p.RZ},e)})))(T)))}}]);